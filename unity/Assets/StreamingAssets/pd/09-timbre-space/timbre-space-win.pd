#N canvas 155 206 710 450 10;
#X declare -path ./lib -path ../lib;
#X declare -lib timbreID/timbreIDLib;
#X declare -lib Gem;
#X obj 3 4 cnv 10 400 10 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 3 4 cnv 10 10 400 empty empty empty 20 12 0 14 -233017 -66577
0;
#N canvas 396 331 496 506 set-view 0;
#X obj 213 79 tgl 15 0 render-points render-points-set Points 17 7
0 10 -262144 -1 -1 1 1;
#X obj 213 59 tgl 15 0 render-light render-light-set Light 17 7 0 10
-262144 -1 -1 1 1;
#X obj 213 99 tgl 15 0 render-snapshot render-snapshot-set Snapshot
17 7 0 10 -262144 -1 -1 0 1;
#X obj 66 59 hsl 128 15 0 360 0 0 rotate-x rotate-x-set Rotate-X 8
8 0 10 -262144 -1 -1 0 1;
#X obj 66 79 hsl 128 15 0 360 0 0 rotate-y rotate-y-set Rotate-Y 8
8 0 10 -262144 -1 -1 0 1;
#X obj 66 99 hsl 128 15 0 360 0 0 rotate-z rotate-z-set Rotate-Z 8
8 0 10 -262144 -1 -1 0 1;
#X text 43 444 Note: mouse-overs won't work properly on a rotated space.
;
#X text 43 303 This is here to allow rotation of the space \, but it's
disabled by default since rendering hundreds of points takes up too
much CPU. Instead \, the patch automatically takes a snapshot of the
points \, stops rendering them \, then displays the static snapshot.
So rotations won't be visible in snapshot mode.;
#X text 43 393 To rotate along X \, Y \, or Z \, uncheck the Snapshot
toggle and check the Light & Points toggles. Then play around with
the sliders.;
#X obj 63 39 tgl 15 0 ortho-switch ortho-switch-set Orthographic 17
7 0 10 -262144 -1 -1 1 1;
#X floatatom 173 169 5 0 0 1 offset-z zoom-control-z-offset-set zoom-control-z-offset
;
#X floatatom 63 169 5 0 0 1 zoom-z zoom-control-z-range-set zoom-control-z-range
;
#X floatatom 173 129 5 0 0 1 offset-x zoom-control-x-offset-set zoom-control-x-offset
;
#X floatatom 173 149 5 0 0 1 offset-y zoom-control-y-offset-set zoom-control-y-offset
;
#X floatatom 63 129 5 0 0 1 zoom-x zoom-control-x-range-set zoom-control-x-range
;
#X floatatom 63 149 5 0 0 1 zoom-y zoom-control-y-range-set zoom-control-y-range
;
#X obj 303 79 bng 15 250 50 0 reset-axes empty Reset 17 7 0 10 -204786
-1 -1;
#X obj 303 99 bng 15 250 50 0 save-plot empty Save-plot 17 7 0 10 -258113
-1 -1;
#X floatatom 164 39 5 0 0 1 fade-time num-fade-frames-set num-fade-frames
;
#X obj 286 169 hsl 100 15 0.03 0.25 0 0 point-size point-size-set point-size
8 8 0 10 -262144 -1 -1 900 1;
#N canvas 1180 231 568 420 disable-mouseover 0;
#X obj 37 37 r ortho-switch;
#X obj 37 58 == 0;
#X obj 172 38 r rotate-x;
#X obj 252 38 r rotate-y;
#X obj 332 38 r rotate-z;
#X obj 172 59 > 0;
#X obj 252 59 > 0;
#X obj 332 59 > 0;
#X obj 172 80 t b f;
#X obj 252 80 t b f;
#X obj 332 80 t b f;
#X msg 67 264 \; mouseover-on-set 0 \;;
#X obj 37 159 ||;
#X obj 37 180 ||;
#X obj 37 201 ||;
#X obj 37 232 select 1 0;
#X msg 37 343 WARNING: mouseover disabled for 3D rotations;
#X obj 37 364 print -n;
#X obj 37 313 oneBang;
#X connect 0 0 1 0;
#X connect 1 0 12 0;
#X connect 2 0 5 0;
#X connect 3 0 6 0;
#X connect 4 0 7 0;
#X connect 5 0 8 0;
#X connect 6 0 9 0;
#X connect 7 0 10 0;
#X connect 8 0 12 0;
#X connect 8 1 12 1;
#X connect 9 0 12 0;
#X connect 9 1 13 1;
#X connect 10 0 12 0;
#X connect 10 1 14 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 15 0 18 0;
#X connect 15 1 18 1;
#X connect 16 0 17 0;
#X connect 18 0 16 0;
#X restore 139 218 pd disable-mouseover;
#X floatatom 283 149 10 0 0 2 total-grains num-frames-total -;
#X obj 303 59 tgl 15 0 render-on render-on-set GEM-render 17 7 0 10
-262144 -1 -1 0 1;
#X coords 0 -1 1 1 350 180 1 50 15;
#X restore 38 146 pd set-view;
#N canvas 602 54 401 238 audio-output 0;
#X obj 188 40 hsl 128 15 40 100 0 0 master-volume master-volume-set
master-volume 8 8 0 10 -262144 -1 -1 10583 1;
#X floatatom 25 40 5 0 100 1 dry dry-gain-set dry-gain;
#X floatatom 105 40 5 0 100 1 wet wet-gain-set wet-gain;
#X floatatom 25 60 5 0 100 1 rvb reverb-liveness-set reverb-liveness
;
#X floatatom 105 60 5 0 20000 1 xover reverb-crossover-set reverb-crossover
;
#X floatatom 185 60 5 0 100 1 damping reverb-damping-set reverb-damping
;
#X floatatom 165 90 5 0 0 0 min grain-transpo-min-set grain-transpo-min
;
#X floatatom 255 90 5 0 0 1 max grain-transpo-max-set grain-transpo-max
;
#X floatatom 25 90 5 0 0 1 transpo - -;
#X msg 25 140 \; grain-transpo-min-set \$1 \; grain-transpo-max-set
\$1 \;;
#X text 205 90 range;
#X text 205 80 random;
#X connect 8 0 9 0;
#X coords 0 -1 1 1 310 90 1 20 20;
#X restore 38 336 pd audio-output;
#N canvas 761 210 582 280 mouse-controls 0;
#X floatatom 210 30 5 0.1 9999 1 play-speed mouse-radius-speed-set
mouse-radius-speed;
#X floatatom 20 30 5 0 1000 1 matches mouse-num-matches-set mouse-num-matches
;
#X floatatom 210 50 5 0.05 10 1 radius mouse-radius-set mouse-radius
;
#X obj 23 50 hsl 100 15 40 100 0 0 mouse-gain mouse-gain-set mouse-gain
8 8 0 10 -262144 -1 -1 9900 1;
#X obj 328 83 r lb1;
#X msg 74 148 \; mouse-gain-set 100 \;;
#X obj 74 123 r audio-process-loadbang;
#X obj 133 50 tgl 15 0 mouse-mode mouse-mode-set mode 17 7 0 10 -262144
-1 -1 0 1;
#X obj 133 30 tgl 15 0 mouseover-on mouseover-on-set Mouseover 17 7
0 10 -262144 -1 -1 0 1;
#X text 127 76 timbreID - William Brent 2019;
#X msg 328 113 \; mouseover-on-set 0 \; mouse-radius-set 0.3 \; mouse-num-matches-set
1 \; mouse-mode-set 0 \; mouse-radius-speed-set 50 \;;
#X connect 4 0 10 0;
#X connect 6 0 5 0;
#X coords 0 -1 1 1 305 90 1 10 10;
#X restore 358 336 pd mouse-controls;
#N canvas 67 281 708 597 analysis-panel 0;
#N canvas 582 397 729 473 feature-names 0;
#X obj 265 89 s y-feature-name;
#X obj 265 14 r y-mapping;
#X obj 75 89 s x-feature-name;
#X obj 75 14 r x-mapping;
#X obj 455 14 r z-mapping;
#X obj 455 89 s z-feature-name;
#X obj 75 239 s R-feature-name;
#X obj 265 239 s G-feature-name;
#X obj 455 239 s B-feature-name;
#X obj 455 164 r B-mapping;
#X obj 265 164 r G-mapping;
#X obj 75 164 r R-mapping;
#X obj 242 385 text define featureNames;
#X obj 455 57 text get featureNames;
#X obj 265 57 text get featureNames;
#X obj 75 57 text get featureNames;
#X obj 75 207 text get featureNames;
#X obj 265 207 text get featureNames;
#X obj 455 207 text get featureNames;
#X msg 242 349 read -c ./info/feature-names.txt;
#X obj 491 324 text search featureNames;
#X floatatom 491 345 5 0 0 0 - - -;
#X symbolatom 491 292 10 0 0 0 - - -;
#X obj 242 320 r lb1;
#X obj 75 347 text get featureNames;
#X obj 24 274 r size-mapping;
#X obj 75 379 s size-feature-name;
#X obj 24 300 select -1;
#X msg 24 421 symbol disabled;
#X connect 1 0 14 0;
#X connect 3 0 15 0;
#X connect 4 0 13 0;
#X connect 9 0 18 0;
#X connect 10 0 17 0;
#X connect 11 0 16 0;
#X connect 13 0 5 0;
#X connect 14 0 0 0;
#X connect 15 0 2 0;
#X connect 16 0 6 0;
#X connect 17 0 7 0;
#X connect 18 0 8 0;
#X connect 19 0 12 0;
#X connect 20 0 21 0;
#X connect 22 0 20 0;
#X connect 23 0 19 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 27 0 28 0;
#X connect 27 1 24 0;
#X connect 28 0 26 0;
#X restore 430 381 pd feature-names;
#X symbolatom 103 48 20 0 0 0 - x-feature-name -;
#X symbolatom 103 68 20 0 0 0 - y-feature-name -;
#X symbolatom 103 88 20 0 0 0 - z-feature-name -;
#X symbolatom 333 48 20 0 0 0 - R-feature-name -;
#X symbolatom 333 68 20 0 0 0 - G-feature-name -;
#X symbolatom 333 88 20 0 0 0 - B-feature-name -;
#X obj 4 4 cnv 10 400 10 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 4 4 cnv 10 10 400 empty empty empty 20 12 0 14 -233017 -66577
0;
#X floatatom 53 48 5 0 78 0 X x-mapping-set x-mapping;
#X floatatom 53 68 5 0 78 0 Y y-mapping-set y-mapping;
#X floatatom 53 88 5 0 78 0 Z z-mapping-set z-mapping;
#X floatatom 283 48 5 0 78 0 R R-mapping-set R-mapping;
#X floatatom 283 68 5 0 78 0 G G-mapping-set G-mapping;
#X floatatom 283 88 5 0 78 0 B B-mapping-set B-mapping;
#X obj 583 33 cpumeter;
#N canvas 810 77 629 706 gem 0;
#X obj 140 476 gemlist;
#X obj 140 539 translateXYZ;
#X obj 140 497 separator;
#X obj 125 297 t f b;
#X obj 125 324 until;
#X obj 154 365 + 1;
#X msg 140 344 0;
#N canvas 382 99 872 649 mouseover 0;
#X obj 62 501 translateXYZ;
#X obj 80 547 r lb1;
#X obj 162 569 r mouse-radius;
#X obj 62 600 circle 0.1;
#X obj 76 90 r lb1;
#X msg 76 111 0;
#X obj 62 139 gemhead 70;
#X obj 62 160 alpha;
#X msg 80 569 draw fill;
#X obj 62 190 color 0 1 0 0.2;
#X obj 299 118 gemmouse 1 1;
#N canvas 364 207 418 257 draw-prep-x 0;
#X obj 85 58 inlet;
#X obj 85 169 outlet;
#X obj 162 64 r gem-x-range;
#X obj 162 86 / 2;
#X obj 85 108 *;
#X obj 85 129 -;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X restore 85 404 pd draw-prep-x;
#N canvas 364 207 223 257 draw-prep-y 0;
#X obj 37 30 inlet;
#X obj 37 161 outlet;
#X obj 37 67 swap 1;
#X obj 37 89 -;
#X obj 90 122 / 2;
#X obj 90 100 r gem-y-range;
#X obj 37 110 *;
#X obj 37 131 -;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 6 0;
#X connect 4 0 7 1;
#X connect 5 0 4 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X connect 7 0 1 0;
#X restore 185 404 pd draw-prep-y;
#X obj 62 22 r mouseover-on;
#N canvas 352 217 312 350 coord-nearest 0;
#X obj 80 136 inlet;
#X obj 183 136 inlet;
#X obj 62 226 pack f f;
#X obj 62 91 t b b;
#X obj 62 268 s coord-nearest;
#X obj 108 33 r mouseover-on;
#X obj 166 186 f;
#X obj 62 182 f;
#X obj 62 64 spigot;
#X obj 62 12 r gem-startFrame;
#X connect 0 0 7 1;
#X connect 1 0 6 1;
#X connect 2 0 4 0;
#X connect 3 0 7 0;
#X connect 3 1 6 0;
#X connect 5 0 8 1;
#X connect 6 0 2 1;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 8 0;
#X restore 188 478 pd coord-nearest;
#X floatatom 162 591 5 0 0 0 - - -;
#X obj 300 402 s mouse-button-left;
#N canvas 0 23 787 359 only-in-bounds 0;
#X obj 45 23 inlet;
#X obj 155 23 inlet;
#X obj 275 23 inlet;
#X obj 45 293 outlet;
#X obj 155 293 outlet;
#X obj 275 293 outlet;
#X obj 275 229 f;
#X obj 235 166 &&;
#X obj 64 137 &&;
#X obj 64 116 >= 0;
#X obj 104 116 <= 1;
#X obj 45 86 t f f f;
#X obj 45 197 spigot;
#X obj 174 137 &&;
#X obj 174 116 >= 0;
#X obj 214 116 <= 1;
#X obj 155 86 t f f f;
#X obj 155 197 spigot;
#X obj 275 201 select 1 0;
#X msg 305 228 0;
#X obj 275 250 change;
#X obj 395 229 f;
#X obj 395 201 select 1 0;
#X msg 425 228 0;
#X obj 395 250 change;
#X obj 395 23 inlet;
#X obj 395 293 outlet;
#X text 492 221 As is \, these mouse flags don't update unless the
mouse position changes. It looks like [gemmouse] doesn't report mouse
clicks when you're out of bounds of the gemwin anyway., f 39;
#X connect 0 0 11 0;
#X connect 1 0 16 0;
#X connect 2 0 6 1;
#X connect 6 0 20 0;
#X connect 7 0 18 0;
#X connect 7 0 17 1;
#X connect 7 0 12 1;
#X connect 7 0 22 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 8 1;
#X connect 11 0 12 0;
#X connect 11 1 9 0;
#X connect 11 2 10 0;
#X connect 12 0 3 0;
#X connect 13 0 7 1;
#X connect 14 0 13 0;
#X connect 15 0 13 1;
#X connect 16 0 17 0;
#X connect 16 1 14 0;
#X connect 16 2 15 0;
#X connect 17 0 4 0;
#X connect 18 0 6 0;
#X connect 18 1 19 0;
#X connect 19 0 20 0;
#X connect 20 0 5 0;
#X connect 21 0 24 0;
#X connect 22 0 21 0;
#X connect 22 1 23 0;
#X connect 23 0 24 0;
#X connect 24 0 26 0;
#X connect 25 0 21 1;
#X restore 85 379 pd only-in-bounds;
#X obj 460 402 s mouse-button-right;
#N canvas 0 23 727 463 mouse-drag-rotations 0;
#X obj 75 25 inlet;
#X obj 165 25 inlet;
#X obj 335 25 inlet;
#X obj 115 341 f;
#X obj 75 341 +;
#X obj 75 298 -;
#X obj 103 271 oneFloat;
#X obj 75 217 spigot;
#X obj 75 319 * 10;
#X obj 130 316 r rotate-y;
#X obj 75 382 s rotate-y-set;
#X obj 75 362 mod 360;
#X obj 75 239 t f f f;
#X obj 355 341 f;
#X obj 315 341 +;
#X obj 315 298 -;
#X obj 343 271 oneFloat;
#X obj 315 217 spigot;
#X obj 315 319 * 10;
#X obj 315 362 mod 360;
#X obj 315 239 t f f f;
#X obj 370 316 r rotate-x;
#X obj 315 382 s rotate-x-set;
#X obj 492 160 select 0 1;
#X obj 335 96 t f f;
#X obj 461 230 t f f b;
#X obj 514 273 f;
#X obj 493 300 >;
#X obj 493 342 t b;
#X obj 187 225 t f f b;
#X obj 240 268 f;
#X obj 219 295 >;
#X obj 219 338 t b;
#X obj 493 321 change -1;
#X obj 219 316 change -1;
#X obj 526 27 r mouseover-on;
#X obj 75 46 spigot;
#X obj 165 46 spigot;
#X obj 335 46 spigot;
#X obj 526 48 swap 1;
#X obj 526 69 -;
#X connect 0 0 36 0;
#X connect 1 0 37 0;
#X connect 2 0 38 0;
#X connect 3 0 4 1;
#X connect 4 0 3 0;
#X connect 4 0 11 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 12 0;
#X connect 8 0 4 0;
#X connect 9 0 3 1;
#X connect 11 0 10 0;
#X connect 12 0 5 0;
#X connect 12 1 6 0;
#X connect 12 2 29 0;
#X connect 13 0 14 1;
#X connect 14 0 13 0;
#X connect 14 0 19 0;
#X connect 15 0 18 0;
#X connect 16 0 15 1;
#X connect 17 0 20 0;
#X connect 18 0 14 0;
#X connect 19 0 22 0;
#X connect 20 0 15 0;
#X connect 20 1 16 0;
#X connect 20 2 25 0;
#X connect 21 0 13 1;
#X connect 23 0 6 1;
#X connect 23 0 16 1;
#X connect 23 1 13 0;
#X connect 23 1 3 0;
#X connect 24 0 17 1;
#X connect 24 0 7 1;
#X connect 24 1 23 0;
#X connect 25 0 26 1;
#X connect 25 1 27 0;
#X connect 25 2 26 0;
#X connect 26 0 27 1;
#X connect 27 0 33 0;
#X connect 28 0 16 1;
#X connect 29 0 30 1;
#X connect 29 1 31 0;
#X connect 29 2 30 0;
#X connect 30 0 31 1;
#X connect 31 0 34 0;
#X connect 32 0 6 1;
#X connect 33 0 28 0;
#X connect 34 0 32 0;
#X connect 35 0 39 0;
#X connect 36 0 7 0;
#X connect 37 0 17 0;
#X connect 38 0 24 0;
#X connect 39 0 40 0;
#X connect 39 1 40 1;
#X connect 40 0 38 1;
#X connect 40 0 37 1;
#X connect 40 0 36 1;
#X restore 474 349 pd mouse-drag-rotations;
#N canvas 1242 160 450 300 set-color 0;
#X obj 47 240 outlet;
#X obj 47 30 r sequence-select;
#X msg 167 181 0.611765 0 1 0.3;
#X obj 47 80 select 0 1 2 3 4 -1;
#X msg 197 201 1 1 1 0.2;
#X msg 107 141 0 0 1 0.4;
#X msg 47 101 1 0 0 0.2;
#X msg 77 121 0 1 0 0.2;
#X msg 137 161 1 1 0 0.2;
#X connect 1 0 3 0;
#X connect 2 0 0 0;
#X connect 3 0 6 0;
#X connect 3 1 7 0;
#X connect 3 2 5 0;
#X connect 3 3 8 0;
#X connect 3 4 2 0;
#X connect 3 5 4 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X restore 149 150 pd set-color;
#X text 457 33 On OSX \, the 4th and 5th outlets of [gemmouse] are
right click and scroll wheel click. This patching treats either button
click as a "right" click so that it works uniformly on Linux/Mac/Win.
, f 36;
#X connect 0 0 3 0;
#X connect 1 0 8 0;
#X connect 2 0 3 1;
#X connect 2 0 15 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 3 0;
#X connect 9 0 0 0;
#X connect 10 0 17 0;
#X connect 10 0 19 0;
#X connect 10 1 19 1;
#X connect 10 1 17 1;
#X connect 10 2 16 0;
#X connect 10 2 19 2;
#X connect 10 3 18 0;
#X connect 10 4 18 0;
#X connect 11 0 0 1;
#X connect 11 0 14 0;
#X connect 12 0 0 2;
#X connect 12 0 14 1;
#X connect 13 0 6 0;
#X connect 17 0 11 0;
#X connect 17 1 12 0;
#X connect 20 0 9 1;
#X restore 353 214 pd mouseover;
#X obj 140 560 color;
#N canvas 898 483 353 360 reset-rendering 0;
#X obj 34 20 r render-plot;
#X obj 34 289 outlet;
#X obj 34 222 r render-points;
#X obj 52 251 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 34 89 \; coord-add-spigot 1 \; render-points 1 \;;
#X connect 0 0 4 0;
#X connect 2 0 1 0;
#X connect 2 0 3 0;
#X restore 153 23 pd reset-rendering;
#X obj 153 45 gemhead 50;
#X obj 153 121 rotateXYZ;
#X obj 232 104 r rotate-x;
#X obj 312 104 r rotate-y;
#X obj 392 104 r rotate-z;
#X obj 153 96 ortho;
#N canvas 670 165 770 612 snapshot 0;
#X obj 221 95 inlet;
#X obj 236 195 - 1;
#X obj 221 150 spigot;
#X obj 94 505 pix_texture;
#X msg 182 339 0;
#X obj 182 360 s render-points-set;
#X obj 221 221 select;
#X obj 236 174 r num-frames-total;
#X msg 283 501 file \$1 1;
#X obj 283 522 t b a;
#X obj 283 480 savepanel;
#X obj 283 411 r save-plot;
#X obj 94 414 pix_snap 0 0 1280 720;
#X obj 248 559 pix_write 0 0 1280 720;
#X obj 94 539 rectangle 7.11111 4;
#X obj 94 102 t f f;
#X obj 94 143 gemhead 60;
#X obj 94 17 r render-snapshot;
#X obj 313 432 r render-snapshot;
#X obj 283 432 f;
#X obj 283 453 select 1 0;
#X msg 369 481 WARNING: Snapshot must be active in order to save plot
;
#X obj 369 502 print -n;
#X obj 94 231 t a b;
#X obj 182 266 oneBang;
#X obj 182 294 t b b;
#X connect 0 0 2 0;
#X connect 1 0 6 1;
#X connect 2 0 6 0;
#X connect 3 0 14 0;
#X connect 4 0 5 0;
#X connect 6 0 24 1;
#X connect 7 0 1 0;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 9 1 13 0;
#X connect 10 0 8 0;
#X connect 11 0 19 0;
#X connect 12 0 3 0;
#X connect 12 0 13 0;
#X connect 15 0 16 0;
#X connect 15 1 2 1;
#X connect 16 0 23 0;
#X connect 17 0 15 0;
#X connect 18 0 19 1;
#X connect 19 0 20 0;
#X connect 20 0 10 0;
#X connect 20 1 21 0;
#X connect 21 0 22 0;
#X connect 23 0 12 0;
#X connect 23 1 24 0;
#X connect 24 0 25 0;
#X connect 25 0 4 0;
#X connect 25 1 12 0;
#X restore 53 447 pd snapshot;
#N canvas 404 701 770 304 lighting 0;
#X obj 113 212 world_light;
#X obj 113 67 gemhead 45;
#X obj 113 15 r render-light;
#X obj 113 154 rotateXYZ;
#X obj 137 112 r rotate-x;
#X obj 217 112 r rotate-y;
#X obj 297 112 r rotate-z;
#X obj 423 64 gemhead 46;
#X obj 423 85 world_light;
#X obj 423 23 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 431 126 Need a default-position [world_light] so that spheres
are visible from behind during rotation, f 42;
#X floatatom 521 40 5 0 0 0 - - -;
#X msg 521 60 \$1 \$1 \$1;
#X msg 519 7 0;
#X msg 559 7 0.5;
#X floatatom 234 199 5 0 0 0 - - -;
#X msg 234 219 \$1 \$1 \$1;
#X msg 232 166 0;
#X msg 272 166 0.5;
#X msg 312 166 1;
#X msg 599 7 1;
#X obj 326 14 r lb1;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 0 7 0;
#X connect 3 0 0 0;
#X connect 4 0 3 1;
#X connect 5 0 3 2;
#X connect 6 0 3 3;
#X connect 7 0 8 0;
#X connect 9 0 7 0;
#X connect 11 0 12 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 16 0;
#X connect 16 0 0 1;
#X connect 17 0 15 0;
#X connect 18 0 15 0;
#X connect 19 0 15 0;
#X connect 20 0 11 0;
#X connect 21 0 18 0;
#X connect 21 0 14 0;
#X restore 353 234 pd lighting;
#X obj 125 276 f;
#X obj 125 365 f;
#N canvas 981 235 876 668 zooming 0;
#X obj 42 286 f;
#X obj 72 286 r zoom-control-x-range;
#X obj 42 252 r zoom-control-update;
#X obj 94 101 s zoom-control-update;
#X obj 262 286 f;
#X obj 262 308 change;
#X obj 262 252 r zoom-control-update;
#X obj 292 286 r zoom-control-y-range;
#X obj 42 486 f;
#X obj 42 452 r zoom-control-update;
#X obj 262 486 f;
#X obj 262 508 change;
#X obj 262 452 r zoom-control-update;
#X obj 72 486 r zoom-control-x-offset;
#X obj 292 486 r zoom-control-y-offset;
#X obj 424 42 r reset-axes;
#X obj 482 286 f;
#X obj 482 308 change;
#X obj 482 252 r zoom-control-update;
#X obj 482 394 s render-plot;
#X obj 482 486 f;
#X obj 482 508 change;
#X obj 482 452 r zoom-control-update;
#X obj 512 286 r zoom-control-z-range;
#X obj 532 354 s z-range;
#X obj 512 486 r zoom-control-z-offset;
#X obj 512 374 s do-transfer-to-tables;
#X obj 482 333 t b b f;
#X obj 42 394 s render-plot;
#X obj 72 374 s do-transfer-to-tables;
#X obj 42 333 t b b f;
#X obj 92 354 s x-range;
#X obj 262 394 s render-plot;
#X obj 292 374 s do-transfer-to-tables;
#X obj 262 333 t b b f;
#X obj 312 354 s y-range;
#X obj 42 594 s render-plot;
#X obj 72 574 s do-transfer-to-tables;
#X obj 42 533 t b b f;
#X obj 92 554 s x-offset;
#X obj 262 594 s render-plot;
#X obj 292 574 s do-transfer-to-tables;
#X obj 262 533 t b b f;
#X obj 482 594 s render-plot;
#X obj 512 574 s do-transfer-to-tables;
#X obj 482 533 t b b f;
#X obj 532 554 s z-offset;
#X obj 312 554 s y-offset;
#X obj 42 308 change;
#X obj 42 508 change;
#X obj 94 79 r gem-startFrame;
#X msg 424 64 \; zoom-control-x-range-set 13.5 \; zoom-control-y-range-set
7.6 \; zoom-control-z-range-set 7.6 \; zoom-control-x-offset-set 0
\; zoom-control-y-offset-set 0 \; zoom-control-z-offset-set 0 \; rotate-x-set
0 \; rotate-y-set 0 \; rotate-z-set 0 \; ortho-switch-set 1 \;;
#X connect 0 0 48 0;
#X connect 1 0 0 1;
#X connect 2 0 0 0;
#X connect 4 0 5 0;
#X connect 5 0 34 0;
#X connect 6 0 4 0;
#X connect 7 0 4 1;
#X connect 8 0 49 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 42 0;
#X connect 12 0 10 0;
#X connect 13 0 8 1;
#X connect 14 0 10 1;
#X connect 15 0 51 0;
#X connect 16 0 17 0;
#X connect 17 0 27 0;
#X connect 18 0 16 0;
#X connect 20 0 21 0;
#X connect 21 0 45 0;
#X connect 22 0 20 0;
#X connect 23 0 16 1;
#X connect 25 0 20 1;
#X connect 27 0 19 0;
#X connect 27 1 26 0;
#X connect 27 2 24 0;
#X connect 30 0 28 0;
#X connect 30 1 29 0;
#X connect 30 2 31 0;
#X connect 34 0 32 0;
#X connect 34 1 33 0;
#X connect 34 2 35 0;
#X connect 38 0 36 0;
#X connect 38 1 37 0;
#X connect 38 2 39 0;
#X connect 42 0 40 0;
#X connect 42 1 41 0;
#X connect 42 2 47 0;
#X connect 45 0 43 0;
#X connect 45 1 44 0;
#X connect 45 2 46 0;
#X connect 48 0 30 0;
#X connect 49 0 38 0;
#X connect 50 0 3 0;
#X restore 353 254 pd zooming;
#X obj 173 70 r ortho-switch;
#X obj 140 256 r num-frames-total;
#X obj 153 149 t a a;
#X obj 153 170 route gem_state;
#X obj 153 191 route float;
#N canvas 403 106 901 688 gemwin-settings 0;
#X msg 23 326 frame \$1;
#X floatatom 23 305 5 0 0 0 - - -;
#X obj 550 366 r \$0-gemwin-settings;
#X obj 23 347 s \$0-gemwin-settings;
#X obj 172 372 s \$0-gemwin-settings;
#X obj 216 311 s \$0-gemwin-settings;
#X msg 172 341 color 0 0 0;
#X obj 307 264 s \$0-gemwin-settings;
#X obj 599 179 s \$0-gemwin-settings;
#X obj 599 139 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 599 158 fullscreen \$1;
#X obj 599 263 s \$0-gemwin-settings;
#X obj 599 223 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 599 242 border \$1;
#X obj 351 206 s \$0-gemwin-settings;
#X msg 475 68 reset;
#X obj 475 93 s \$0-gemwin-settings;
#X obj 341 146 s \$0-gemwin-settings;
#X msg 341 123 title timbreSpace;
#X obj 103 51 t b b b b b b b b;
#X obj 539 313 s \$0-gemwin-settings;
#X msg 539 292 print;
#X obj 374 461 select 1 0;
#X msg 374 493 create \, 1;
#X msg 449 494 destroy;
#X obj 550 568 gemwin;
#X obj 550 407 t a a;
#X obj 612 445 route create destroy;
#X msg 652 509 1;
#X msg 710 509 0;
#X msg 684 553 set \$1;
#X obj 374 440 r render-on;
#X obj 684 575 s render-on-set;
#X obj 710 487 t b b;
#X msg 746 515 \; mouseover-on-set 0 \;;
#X obj 374 538 s \$0-gemwin-settings;
#X obj 103 30 r lb1;
#X msg 307 243 lighting 1;
#X msg 23 277 20;
#X msg 382 356 dimen 1440 810;
#X msg 382 376 dimen 800 600;
#X msg 351 183 offset 0 0;
#X msg 382 336 dimen 1280 720;
#X msg 216 290 dimen 1280 720;
#X obj 612 467 t b b;
#X obj 612 579 delay 100;
#X msg 612 606 \; render-plot bang \;;
#X obj 705 361 delay 100;
#X obj 705 340 oneBang;
#X msg 705 381 \; render-snapshot-set 0 \; render-points-set 1 \;;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 26 0;
#X connect 6 0 4 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 15 0 16 0;
#X connect 18 0 17 0;
#X connect 19 0 38 0;
#X connect 19 1 6 0;
#X connect 19 2 43 0;
#X connect 19 3 37 0;
#X connect 19 4 41 0;
#X connect 19 5 18 0;
#X connect 19 7 15 0;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 22 1 24 0;
#X connect 23 0 35 0;
#X connect 24 0 35 0;
#X connect 26 0 25 0;
#X connect 26 1 27 0;
#X connect 27 0 44 0;
#X connect 27 1 33 0;
#X connect 28 0 30 0;
#X connect 29 0 30 0;
#X connect 30 0 32 0;
#X connect 31 0 22 0;
#X connect 33 0 29 0;
#X connect 33 1 34 0;
#X connect 36 0 19 0;
#X connect 37 0 7 0;
#X connect 38 0 1 0;
#X connect 41 0 14 0;
#X connect 43 0 5 0;
#X connect 44 0 45 0;
#X connect 44 1 28 0;
#X connect 44 1 48 0;
#X connect 45 0 46 0;
#X connect 47 0 49 0;
#X connect 48 0 47 0;
#X restore 353 174 pd gemwin-settings;
#X msg 60 57 compat 0;
#X obj 60 37 r lb1;
#X obj 140 626 sphere 0.03 5;
#X obj 470 32 r analysis-finished;
#X obj 470 54 s render-plot;
#X obj 353 314 grainConnect 0;
#X obj 353 334 grainConnect 1;
#X obj 353 354 grainConnect 2;
#X obj 353 374 grainConnect 3;
#N canvas 1002 131 756 812 calc-distance 0;
#X obj 180 16 inlet;
#X obj 207 409 spigot;
#X obj 50 140 - 1;
#X msg 325 275 clear;
#X obj 302 359 r mouse-radius;
#X obj 298 205 r coord-add-spigot;
#X obj 325 252 select 1;
#X obj 298 226 t f f;
#X obj 246 388 < 0.1;
#X obj 207 537 spigot;
#X msg 246 513 0;
#X msg 286 513 1;
#X obj 286 472 select 0;
#X obj 355 466 change;
#X obj 355 487 t b;
#X obj 207 430 t f f;
#X obj 50 190 select;
#X obj 207 272 spigot;
#X obj 207 759 s trig-sound;
#X obj 50 119 r num-frames-total;
#X obj 207 333 nearestPoint 2;
#X obj 207 171 pack f f;
#X msg 27 240 \; coord-add-spigot 0 \;;
#X obj 180 37 t f f f;
#X obj 207 111 tabread plotDataX;
#X obj 267 141 tabread plotDataY;
#X obj 267 699 s get-raw-feature;
#X obj 227 739 s add-to-sequence;
#X obj 543 484 list length;
#X obj 504 540 list prepend 0;
#X obj 504 562 s nearest-points;
#X obj 504 452 t l l;
#X msg 543 506 \; nearest-points resize \$1 \;;
#X obj 447 422 route bang;
#X obj 527 348 t b b;
#X msg 447 588 \; nearest-points const -1 \;;
#X obj 447 554 t b;
#X obj 553 401 table nearest-points;
#X obj 447 395 list store;
#X msg 447 324 append \$1;
#X obj 527 324 r gem-startFrame;
#X obj 207 638 t f f f f b;
#X obj 247 719 s add-to-active;
#X obj 447 299 r add-to-active;
#N canvas 897 431 901 497 within-mouse 0;
#X obj 406 290 list length;
#X obj 367 346 list prepend 0;
#X obj 367 258 t l l;
#X obj 310 228 route bang;
#X obj 310 201 list store;
#X msg 310 130 append \$1;
#X obj 479 210 table in-mouse-radius;
#X msg 406 312 \; in-mouse-radius resize \$1 \;;
#X obj 367 368 s in-mouse-radius;
#X msg 681 314 \; in-mouse-radius const -1 \;;
#X obj 310 59 inlet;
#X obj 413 119 r gem-endFrame;
#X obj 411 143 t b b;
#X obj 56 142 f;
#X obj 93 131 + 1;
#X obj 93 152 %;
#X obj 56 183 tabread in-mouse-radius;
#X obj 147 397 outlet;
#X obj 56 212 moses 0;
#X obj 56 80 r lb5;
#X obj 56 104 metro 10;
#X obj 116 80 r mouse-radius-speed;
#X obj 702 277 r lb1;
#X obj 120 342 spigot;
#X obj 180 342 spigot;
#X obj 218 283 swap 1;
#X obj 218 304 -;
#X floatatom 116 101 5 0 0 0 - - -;
#X floatatom 434 259 5 0 0 0 - - -;
#X obj 177 244 > 1;
#X obj 231 340 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 136 322 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 177 221 r mouse-num-matches;
#X obj 377 39 inlet;
#X msg 537 92 scramble;
#X obj 537 113 tabletool in-mouse-radius;
#X obj 537 58 spigot;
#X obj 586 29 r mouse-mode;
#X obj 681 221 r mouseover-on;
#X obj 681 242 select 0;
#X connect 0 0 7 0;
#X connect 0 0 15 1;
#X connect 0 0 28 0;
#X connect 1 0 8 0;
#X connect 2 0 1 0;
#X connect 2 1 0 0;
#X connect 3 1 2 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 10 0 5 0;
#X connect 10 0 24 0;
#X connect 11 0 12 0;
#X connect 12 0 4 1;
#X connect 12 0 36 0;
#X connect 12 1 4 0;
#X connect 13 0 14 0;
#X connect 13 0 16 0;
#X connect 14 0 15 0;
#X connect 15 0 13 1;
#X connect 16 0 18 0;
#X connect 18 1 23 0;
#X connect 19 0 20 0;
#X connect 20 0 13 0;
#X connect 21 0 20 1;
#X connect 21 0 27 0;
#X connect 22 0 9 0;
#X connect 23 0 17 0;
#X connect 24 0 17 0;
#X connect 25 0 26 0;
#X connect 25 1 26 1;
#X connect 26 0 24 1;
#X connect 26 0 30 0;
#X connect 29 0 23 1;
#X connect 29 0 25 0;
#X connect 29 0 31 0;
#X connect 32 0 29 0;
#X connect 33 0 9 0;
#X connect 34 0 35 0;
#X connect 36 0 34 0;
#X connect 37 0 36 1;
#X connect 38 0 39 0;
#X connect 39 0 9 0;
#X restore 207 609 pd within-mouse;
#X obj 82 308 r mouse-num-matches;
#X msg 56 419 num_matches \$1;
#X obj 56 360 f;
#X obj 56 381 change;
#X obj 446 106 unpack f f;
#X obj 603 191 r coord-nearest;
#X obj 446 224 pack f f;
#X obj 446 77 r coord-nearest;
#N canvas 15 441 629 392 rotation-y 0;
#X obj 97 72 / 360;
#X obj 97 93 * 2;
#X obj 97 114 * 3.14159;
#X obj 97 165 cos;
#X obj 393 74 t b f;
#X obj 97 236 *;
#X obj 97 307 outlet;
#X obj 267 307 outlet;
#X obj 393 44 inlet;
#X obj 443 44 inlet;
#X obj 97 42 * -1;
#X obj 97 21 r rotate-y;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 6 0;
#X connect 8 0 4 0;
#X connect 9 0 7 0;
#X connect 10 0 0 0;
#X connect 11 0 10 0;
#X restore 618 103 pd rotation-y;
#N canvas 666 23 629 392 rotation-x 0;
#X obj 97 72 / 360;
#X obj 97 93 * 2;
#X obj 97 114 * 3.14159;
#X obj 443 74 t b f;
#X obj 267 236 *;
#X obj 97 307 outlet;
#X obj 267 307 outlet;
#X obj 393 44 inlet;
#X obj 443 44 inlet;
#X obj 97 42 * -1;
#X obj 267 205 cos;
#X obj 97 21 r rotate-x;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 4 0 6 0;
#X connect 7 0 5 0;
#X connect 8 0 3 0;
#X connect 9 0 0 0;
#X connect 10 0 4 0;
#X connect 11 0 9 0;
#X restore 618 133 pd rotation-x;
#N canvas 17 23 629 392 rotation-z 0;
#X obj 97 72 / 360;
#X obj 97 93 * 2;
#X obj 97 114 * 3.14159;
#X obj 97 165 cos;
#X obj 147 165 sin;
#X obj 393 74 t b f;
#X obj 443 74 t b f;
#X obj 97 286 -;
#X obj 97 236 *;
#X obj 147 236 *;
#X obj 267 236 *;
#X obj 317 236 *;
#X obj 267 205 sin;
#X obj 317 205 cos;
#X obj 267 286 +;
#X obj 97 307 outlet;
#X obj 267 307 outlet;
#X obj 393 44 inlet;
#X obj 443 44 inlet;
#X obj 97 135 t f f f f, f 25;
#X obj 317 257 t b f;
#X obj 147 257 t b f;
#X obj 97 42 * -1;
#X obj 97 21 r rotate-z;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 19 0;
#X connect 3 0 8 0;
#X connect 4 0 9 0;
#X connect 5 0 8 0;
#X connect 5 0 10 0;
#X connect 5 1 8 1;
#X connect 5 1 10 1;
#X connect 6 0 9 0;
#X connect 6 0 11 0;
#X connect 6 1 9 1;
#X connect 6 1 11 1;
#X connect 7 0 15 0;
#X connect 8 0 7 0;
#X connect 9 0 21 0;
#X connect 10 0 14 0;
#X connect 11 0 20 0;
#X connect 12 0 10 0;
#X connect 13 0 11 0;
#X connect 14 0 16 0;
#X connect 17 0 5 0;
#X connect 18 0 6 0;
#X connect 19 0 3 0;
#X connect 19 1 4 0;
#X connect 19 2 12 0;
#X connect 19 3 13 0;
#X connect 20 0 14 0;
#X connect 20 1 14 1;
#X connect 21 0 7 0;
#X connect 21 1 7 1;
#X connect 22 0 0 0;
#X connect 23 0 22 0;
#X restore 618 73 pd rotation-z;
#N canvas 666 23 644 555 rotations 0;
#X obj 97 94 * 3.14159;
#X obj 443 64 t b f;
#X obj 267 316 *;
#X obj 97 387 outlet;
#X obj 267 387 outlet;
#X obj 393 44 inlet;
#X obj 443 44 inlet;
#X obj 97 42 * -1;
#X obj 267 285 cos;
#X obj 97 21 r rotate-x;
#X obj 97 72 / 180;
#X obj 207 94 * 3.14159;
#X obj 207 72 / 180;
#X obj 207 21 r rotate-y;
#X obj 393 65 t b f;
#X obj 314 158 cos;
#X obj 314 179 *;
#X obj 314 200 -;
#X obj 97 115 sin;
#X obj 97 136 *;
#X obj 97 157 *;
#X obj 169 149 sin;
#X obj 169 170 t b f;
#X connect 0 0 18 0;
#X connect 1 0 19 0;
#X connect 1 1 19 1;
#X connect 2 0 4 0;
#X connect 5 0 14 0;
#X connect 6 0 1 0;
#X connect 7 0 10 0;
#X connect 8 0 2 0;
#X connect 9 0 7 0;
#X connect 10 0 0 0;
#X connect 11 0 15 0;
#X connect 11 0 21 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X connect 14 0 16 0;
#X connect 14 1 16 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 17 1;
#X connect 21 0 22 0;
#X connect 22 0 20 0;
#X connect 22 1 20 1;
#X restore 452 157 pd rotations;
#X connect 0 0 23 0;
#X connect 1 0 15 0;
#X connect 2 0 16 1;
#X connect 3 0 20 0;
#X connect 4 0 8 1;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 17 1;
#X connect 7 1 6 0;
#X connect 8 0 1 1;
#X connect 8 0 12 0;
#X connect 9 0 44 0;
#X connect 10 0 9 1;
#X connect 11 0 9 1;
#X connect 12 0 11 0;
#X connect 12 0 44 1;
#X connect 13 0 14 0;
#X connect 14 0 11 0;
#X connect 15 0 9 0;
#X connect 15 1 13 0;
#X connect 16 0 22 0;
#X connect 16 0 47 0;
#X connect 17 0 20 0;
#X connect 19 0 2 0;
#X connect 20 0 1 0;
#X connect 20 1 8 0;
#X connect 21 0 17 0;
#X connect 23 0 16 0;
#X connect 23 1 24 0;
#X connect 23 2 25 0;
#X connect 24 0 21 0;
#X connect 25 0 21 1;
#X connect 28 0 32 0;
#X connect 29 0 30 0;
#X connect 31 0 29 0;
#X connect 31 1 28 0;
#X connect 33 0 36 0;
#X connect 33 1 31 0;
#X connect 34 0 38 1;
#X connect 34 1 38 0;
#X connect 36 0 35 0;
#X connect 38 0 33 0;
#X connect 39 0 38 0;
#X connect 40 0 34 0;
#X connect 41 0 18 0;
#X connect 41 1 27 0;
#X connect 41 2 42 0;
#X connect 41 3 26 0;
#X connect 41 4 10 0;
#X connect 43 0 39 0;
#X connect 44 0 41 0;
#X connect 45 0 47 1;
#X connect 46 0 20 0;
#X connect 47 0 48 0;
#X connect 48 0 46 0;
#X connect 50 0 20 1;
#X connect 52 0 49 0;
#X connect 53 0 54 0;
#X connect 53 1 54 1;
#X connect 55 0 53 0;
#X connect 55 1 53 1;
#X restore 258 460 pd calc-distance;
#N canvas 560 350 537 424 size 0;
#X obj 58 78 tabread currentFadeFrames;
#X obj 58 138 moses;
#X obj 85 110 r num-fade-frames;
#X obj 209 351 outlet;
#X obj 58 29 inlet;
#X obj 232 261 t b;
#X obj 232 282 f;
#X obj 58 265 +;
#X obj 58 169 /;
#X obj 98 169 r num-fade-frames;
#X obj 58 240 *;
#X obj 58 190 swap 1;
#X obj 58 211 -;
#X obj 98 261 * 2;
#X obj 342 125 tabread plotDataSize;
#X obj 394 79 r size-mapping;
#X obj 394 100 >= 0;
#X obj 342 101 spigot;
#X obj 342 193 f;
#X obj 402 163 r point-size;
#X obj 372 163 f;
#X obj 58 50 t f b f b, f 35;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 1 1 5 0;
#X connect 2 0 1 1;
#X connect 4 0 21 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 7 0;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 12 0 10 0;
#X connect 13 0 10 1;
#X connect 14 0 18 1;
#X connect 15 0 16 0;
#X connect 16 0 17 1;
#X connect 17 0 14 0;
#X connect 18 0 6 1;
#X connect 18 0 13 0;
#X connect 18 0 7 1;
#X connect 19 0 20 1;
#X connect 20 0 18 1;
#X connect 21 0 0 0;
#X connect 21 1 18 0;
#X connect 21 2 17 0;
#X connect 21 3 20 0;
#X restore 199 591 pd size;
#N canvas 251 206 804 401 coords-and-color 0;
#X obj 44 298 outlet;
#X obj 94 248 outlet;
#X obj 144 198 outlet;
#X obj 44 9 inlet;
#X obj 44 277 tabread plotDataX;
#X obj 144 177 tabread plotDataZ;
#X obj 94 227 tabread plotDataY;
#N canvas 748 252 993 681 check-if-active 0;
#X obj 156 117 tabletool nearest-points;
#X msg 156 94 equals \$1;
#X obj 156 45 inlet;
#X msg 539 312 1 0 0;
#X obj 270 443 -;
#X obj 320 443 -;
#X obj 370 443 -;
#X obj 539 336 unpack f f f;
#X obj 270 464 /;
#X obj 320 464 /;
#X obj 370 464 /;
#X obj 735 64 r num-frames-total;
#X obj 819 111 t b f;
#X obj 735 142 pack 2 f;
#X obj 713 511 table fadeIncrements-R;
#X obj 713 531 table fadeIncrements-G;
#X obj 713 551 table fadeIncrements-B;
#X obj 156 66 t f f, f 41;
#X obj 270 528 tabwrite fadeIncrements-R;
#X obj 320 508 tabwrite fadeIncrements-G;
#X obj 370 488 tabwrite fadeIncrements-B;
#X msg 735 168 \; currentFadeFrames resize \$1 \; currentFadeFrames
const \$2 \; \; fadeIncrements-R resize \$1 \; fadeIncrements-G resize
\$1 \; fadeIncrements-B resize \$1 \;;
#X obj 713 471 table currentFadeFrames;
#X msg 61 373 \; currentFadeFrames \$1 0 \;;
#X obj 819 90 r num-fade-frames;
#X obj 156 138 select -1;
#X obj 207 178 t b;
#X obj 207 199 f;
#X obj 440 464 r num-fade-frames;
#X obj 270 356 tabread plotDataR;
#X obj 320 336 tabread plotDataG;
#X obj 370 316 tabread plotDataB;
#X obj 207 224 t f f f f b;
#X text 343 194 If active \, calculate RGB increment values and set
currentFadeFrames @ \$1 to 0;
#X connect 0 0 25 0;
#X connect 1 0 0 0;
#X connect 2 0 17 0;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 4 1;
#X connect 7 1 5 1;
#X connect 7 2 6 1;
#X connect 8 0 18 0;
#X connect 9 0 19 0;
#X connect 10 0 20 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 21 0;
#X connect 17 0 1 0;
#X connect 17 1 18 1;
#X connect 17 1 19 1;
#X connect 17 1 20 1;
#X connect 17 1 27 1;
#X connect 24 0 12 0;
#X connect 25 1 26 0;
#X connect 26 0 27 0;
#X connect 27 0 32 0;
#X connect 28 0 8 1;
#X connect 28 0 9 1;
#X connect 28 0 10 1;
#X connect 29 0 4 0;
#X connect 30 0 5 0;
#X connect 31 0 6 0;
#X connect 32 0 23 0;
#X connect 32 1 29 0;
#X connect 32 2 30 0;
#X connect 32 3 31 0;
#X connect 32 4 3 0;
#X restore 346 139 pd check-if-active;
#N canvas 309 312 852 580 color-increments 0;
#X obj 360 278 tabread fadeIncrements-B;
#X obj 312 238 tabread fadeIncrements-G;
#X obj 263 198 tabread fadeIncrements-R;
#X obj 263 219 *;
#X obj 58 138 tabread currentFadeFrames;
#X obj 58 507 tabwrite currentFadeFrames;
#X obj 58 482 + 1;
#X obj 326 27 inlet;
#X obj 312 259 *;
#X obj 360 299 *;
#X obj 263 455 pack f f f;
#X obj 474 526 outlet;
#X obj 58 198 moses;
#X obj 562 152 t b;
#X obj 58 243 t f b b b f;
#X obj 263 178 f;
#X obj 312 218 f;
#X obj 360 258 f;
#X obj 562 179 f;
#X msg 582 201 \; fadeIncrements-R \$1 0 \; fadeIncrements-G \$1 0
\; fadeIncrements-B \$1 0 \;;
#X obj 85 170 r num-fade-frames;
#X obj 442 375 unpack f f f;
#X obj 263 416 +;
#X obj 312 416 +;
#X obj 360 416 +;
#X obj 326 60 t f f b;
#X msg 442 350 1 0 0;
#X text 473 34 If we're below the num-fade-frames threshold \, increment
towards the original color by one step \, and update the fadeFrames
counter for this grain \; \; If we hit the num-fade-frames threshold
\, set the RGB increments back to zero so they no longer change and
output the original color.;
#X obj 562 335 tabread plotDataR;
#X obj 612 315 tabread plotDataG;
#X obj 662 295 tabread plotDataB;
#X obj 562 364 pack f f f;
#X obj 562 260 t f f f;
#X connect 0 0 9 0;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 22 0;
#X connect 4 0 12 0;
#X connect 6 0 5 0;
#X connect 7 0 25 0;
#X connect 8 0 23 0;
#X connect 9 0 24 0;
#X connect 10 0 11 0;
#X connect 12 0 14 0;
#X connect 12 1 13 0;
#X connect 13 0 18 0;
#X connect 14 0 6 0;
#X connect 14 1 15 0;
#X connect 14 2 16 0;
#X connect 14 3 17 0;
#X connect 14 4 9 1;
#X connect 14 4 8 1;
#X connect 14 4 3 1;
#X connect 15 0 2 0;
#X connect 16 0 1 0;
#X connect 17 0 0 0;
#X connect 18 0 19 0;
#X connect 18 0 32 0;
#X connect 20 0 12 1;
#X connect 21 0 22 1;
#X connect 21 1 23 1;
#X connect 21 2 24 1;
#X connect 22 0 10 0;
#X connect 23 0 10 1;
#X connect 24 0 10 2;
#X connect 25 0 4 0;
#X connect 25 1 15 1;
#X connect 25 1 16 1;
#X connect 25 1 17 1;
#X connect 25 1 18 1;
#X connect 25 1 5 1;
#X connect 25 2 26 0;
#X connect 26 0 21 0;
#X connect 28 0 31 0;
#X connect 29 0 31 1;
#X connect 30 0 31 2;
#X connect 31 0 11 0;
#X connect 32 0 28 0;
#X connect 32 1 29 0;
#X connect 32 2 30 0;
#X restore 304 189 pd color-increments;
#X obj 545 245 pack f f f;
#X obj 545 195 tabread plotDataR;
#X obj 595 145 tabread plotDataG;
#X obj 645 95 tabread plotDataB;
#X obj 304 298 outlet;
#X obj 44 30 t f f f f f;
#X connect 3 0 14 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X connect 8 0 13 0;
#X connect 10 0 9 0;
#X connect 11 0 9 1;
#X connect 12 0 9 2;
#X connect 14 0 4 0;
#X connect 14 1 6 0;
#X connect 14 2 5 0;
#X connect 14 3 8 0;
#X connect 14 4 7 0;
#X restore 213 497 pd coords-and-color;
#X obj 125 395 t f b f f f;
#X obj 125 226 t b b b;
#X obj 23 264 s gem-endFrame;
#X obj 195 227 s gem-startFrame;
#X floatatom 292 572 5 0 0 0 - - -;
#X obj 353 394 grainConnect 4;
#N canvas 727 294 626 443 keyboard-navigation 0;
#X obj 44 157 gemkeyboard;
#N canvas 489 259 568 338 offset 0;
#X obj 190 21 inlet;
#X obj 402 100 outlet;
#X obj 314 191 +;
#X obj 344 192 f;
#X msg 335 134 0.5;
#X msg 275 134 -0.5;
#X obj 333 167 r zoom-control-x-offset;
#X obj 314 215 s zoom-control-x-offset-set;
#X obj 84 191 +;
#X obj 114 192 f;
#X msg 105 134 0.5;
#X msg 45 134 -0.5;
#X obj 103 167 r zoom-control-y-offset;
#X obj 84 215 s zoom-control-y-offset-set;
#X text 259 24 w \, a \, s \, d;
#X obj 190 55 select 87 65 83 68;
#X connect 0 0 15 0;
#X connect 2 0 3 0;
#X connect 2 0 7 0;
#X connect 3 0 2 1;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 6 0 2 1;
#X connect 8 0 9 0;
#X connect 8 0 13 0;
#X connect 9 0 8 1;
#X connect 10 0 8 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 15 0 10 0;
#X connect 15 1 5 0;
#X connect 15 2 11 0;
#X connect 15 3 4 0;
#X connect 15 4 1 0;
#X restore 44 217 pd offset;
#N canvas 821 169 521 433 zoom 0;
#X obj 142 30 inlet;
#X obj 395 198 outlet;
#X obj 91 277 r zoom-control-x-range;
#X obj 72 301 +;
#X obj 102 302 f;
#X obj 272 301 +;
#X obj 302 302 f;
#X msg 293 244 0.5;
#X msg 233 244 -0.5;
#X obj 291 277 r zoom-control-y-range;
#X msg 33 204 -0.88816;
#X obj 72 327 s zoom-control-x-range-set;
#X obj 272 326 s zoom-control-y-range-set;
#X msg 93 204 0.88816;
#X text 211 32 Up arrow \, Down arrow;
#X obj 142 64 select 38 40;
#X connect 0 0 15 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 3 0 11 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 5 0 12 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X connect 9 0 5 1;
#X connect 10 0 3 0;
#X connect 13 0 3 0;
#X connect 15 0 7 0;
#X connect 15 0 13 0;
#X connect 15 1 8 0;
#X connect 15 1 10 0;
#X connect 15 2 1 0;
#X restore 44 187 pd zoom;
#N canvas 644 302 503 268 sequence-select 0;
#X obj 39 41 inlet;
#X msg 39 126 0;
#X obj 39 159 s sequence-select-set;
#X msg 69 126 1;
#X msg 99 126 2;
#X msg 129 126 3;
#X msg 159 126 4;
#X obj 209 159 s sequence-select;
#X msg 209 126 -1;
#X obj 359 159 outlet;
#X text 94 48 1 \, 2 \, 3 \, 4 \, 5 \, 0;
#X obj 39 85 select 49 50 51 52 53 48;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 6 0 2 0;
#X connect 8 0 7 0;
#X connect 11 0 1 0;
#X connect 11 1 3 0;
#X connect 11 2 4 0;
#X connect 11 3 5 0;
#X connect 11 4 6 0;
#X connect 11 5 8 0;
#X connect 11 6 9 0;
#X restore 44 247 pd sequence-select;
#N canvas 643 352 1113 618 mouse 0;
#X obj 167 37 inlet;
#X obj 401 313 r mouseover-on;
#X obj 381 403 s mouseover-on-set;
#X obj 381 337 f;
#X obj 381 358 swap 1;
#X obj 381 379 -;
#X obj 705 178 outlet;
#X obj 67 344 +;
#X obj 127 345 f;
#X obj 67 427 s mouse-radius-set;
#X obj 86 320 r mouse-radius;
#X msg 88 247 0.1;
#X msg 28 247 -0.1;
#X obj 127 366 clip 0.05 10;
#X obj 67 403 clip 0.05 10;
#X obj 221 346 f;
#X obj 221 367 swap 1;
#X obj 221 388 -;
#X obj 241 322 r mouse-mode;
#X obj 221 412 s mouse-mode-set;
#X obj 527 343 +;
#X obj 587 344 f;
#X obj 727 343 +;
#X obj 787 344 f;
#X obj 871 106 tabletool mouse-radius-speed-curve;
#X obj 871 136 table mouse-radius-speed-curve 100;
#X msg 871 85 series 0.1 200 0.5;
#X msg 688 246 -1;
#X msg 748 246 1;
#X obj 787 365 clip 0 199;
#X obj 727 402 tabread mouse-radius-speed-curve;
#X obj 871 236 table mouse-num-matches-curve 100;
#X obj 871 206 tabletool mouse-num-matches-curve;
#X obj 587 365 clip 0 199;
#X obj 527 402 tabread mouse-num-matches-curve;
#X msg 488 246 -1;
#X msg 548 246 1;
#X msg 871 185 series 1 1000 0.5;
#X obj 831 2 r lb1;
#X obj 831 23 t b b;
#X msg 791 65 round 1;
#X obj 808 24 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 527 456 s mouse-num-matches-set;
#X obj 727 456 s mouse-radius-speed-set;
#X obj 727 423 max 1;
#X obj 527 423 max 1;
#X text 194 61 q \, e \, r \, m \, z \, c \, Left arrow \, Right arrow
;
#X obj 167 87 select 81 69 82 77 90 67 37 39;
#X connect 0 0 47 0;
#X connect 1 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 2 0;
#X connect 7 0 8 0;
#X connect 7 0 14 0;
#X connect 8 0 13 0;
#X connect 10 0 7 1;
#X connect 11 0 7 0;
#X connect 12 0 7 0;
#X connect 13 0 7 1;
#X connect 14 0 9 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 16 1 17 1;
#X connect 17 0 19 0;
#X connect 18 0 15 1;
#X connect 20 0 21 0;
#X connect 20 0 34 0;
#X connect 21 0 33 0;
#X connect 22 0 23 0;
#X connect 22 0 30 0;
#X connect 23 0 29 0;
#X connect 26 0 24 0;
#X connect 27 0 22 0;
#X connect 28 0 22 0;
#X connect 29 0 22 1;
#X connect 30 0 44 0;
#X connect 33 0 20 1;
#X connect 34 0 45 0;
#X connect 35 0 20 0;
#X connect 36 0 20 0;
#X connect 37 0 32 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 39 1 26 0;
#X connect 39 1 37 0;
#X connect 40 0 24 0;
#X connect 40 0 32 0;
#X connect 41 0 39 0;
#X connect 44 0 43 0;
#X connect 45 0 42 0;
#X connect 47 0 12 0;
#X connect 47 1 11 0;
#X connect 47 2 15 0;
#X connect 47 3 3 0;
#X connect 47 4 35 0;
#X connect 47 5 36 0;
#X connect 47 6 27 0;
#X connect 47 7 28 0;
#X connect 47 8 6 0;
#X restore 44 307 pd mouse;
#N canvas 643 194 324 492 append-clear 0;
#X obj 44 38 inlet;
#X obj 59 343 r sequence-select;
#X obj 102 222 r sequence-select;
#X obj 87 254 f;
#X msg 87 299 \; seq-\$1-clear-set bang;
#X obj 44 370 f;
#X msg 44 415 \; sequence-\$1-append bang \;;
#X obj 144 151 outlet;
#X obj 87 275 moses 0;
#X obj 44 391 moses 0;
#X text 97 58 o \, x;
#X obj 44 88 select 79 88;
#X connect 0 0 11 0;
#X connect 1 0 5 1;
#X connect 2 0 3 1;
#X connect 3 0 8 0;
#X connect 5 0 9 0;
#X connect 8 1 4 0;
#X connect 9 1 6 0;
#X connect 11 0 5 0;
#X connect 11 1 3 0;
#X connect 11 2 7 0;
#X restore 44 277 pd append-clear;
#X text 253 154 upArrow/downArrow: zoom in/out;
#X text 253 204 1-5: active sequence \, 0: no seq selected;
#X text 253 224 o: append single point \, x: clear sequence;
#X text 253 244 q/e: change mouse radius;
#X text 253 264 r: toggle random grain selection mode;
#X text 253 284 z/c: change num_matches;
#X text 253 304 m: mouseover active;
#X text 253 324 leftArrow/rightArrow: change mouseover play speed;
#X text 253 364 return: reset plot;
#X text 253 344 backspace: toggle master clock;
#N canvas 643 194 324 492 master-clock 0;
#X obj 44 38 inlet;
#X obj 144 151 outlet;
#X obj 44 234 f;
#X obj 44 255 swap 1;
#X obj 44 276 -;
#X obj 64 210 r master-clock;
#X obj 44 300 s master-clock-set;
#X text 56 66 Backspace;
#X obj 44 88 select 8;
#X connect 0 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 4 0 6 0;
#X connect 5 0 2 1;
#X connect 8 0 2 0;
#X connect 8 1 1 0;
#X restore 44 337 pd master-clock;
#N canvas 643 194 324 492 reset-plot 0;
#X obj 44 38 inlet;
#X obj 144 151 outlet;
#X obj 44 300 s reset-axes;
#X text 84 61 Return;
#X obj 44 88 select 13;
#X connect 0 0 4 0;
#X connect 4 0 2 0;
#X connect 4 1 1 0;
#X restore 44 367 pd reset-plot;
#X text 253 184 wasd: offset for navigation;
#X text 41 21 Key codes coming out of [gemkeyboard] vary with OS and
windowing manager. This patch is set up for Mac OSX 10.13.6 by default.
The other patches in this directory are configured to work with Linux
and Windows \, however there may still be inconsistencies depending
on your setup., f 83;
#X text 41 81 You can manually configure this patch for your system
by checking the keycodes coming out [gemkeyboard] for the following
key events \, and changing the [select] arguments in the subpatches
below accordingly., f 83;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 16 0;
#X connect 5 0 4 0;
#X connect 16 0 17 0;
#X restore 353 194 pd keyboard-navigation;
#X connect 0 0 2 0;
#X connect 1 0 8 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 6 0;
#X connect 4 0 19 0;
#X connect 5 0 19 1;
#X connect 6 0 19 1;
#X connect 8 0 29 0;
#X connect 9 0 10 0;
#X connect 10 0 15 0;
#X connect 11 0 23 0;
#X connect 12 0 11 1;
#X connect 13 0 11 2;
#X connect 14 0 11 3;
#X connect 15 0 11 0;
#X connect 18 0 3 0;
#X connect 19 0 5 0;
#X connect 19 0 39 0;
#X connect 21 0 15 0;
#X connect 22 0 18 1;
#X connect 23 0 24 0;
#X connect 23 1 0 1;
#X connect 24 0 25 0;
#X connect 25 1 40 0;
#X connect 27 0 15 0;
#X connect 28 0 27 0;
#X connect 30 0 31 0;
#X connect 37 0 29 1;
#X connect 38 0 1 1;
#X connect 38 1 1 2;
#X connect 38 2 1 3;
#X connect 38 3 8 1;
#X connect 39 0 16 0;
#X connect 39 1 0 0;
#X connect 39 2 37 0;
#X connect 39 3 38 0;
#X connect 39 4 36 0;
#X connect 40 0 41 0;
#X connect 40 1 18 0;
#X connect 40 2 42 0;
#X connect 43 0 29 2;
#X restore 430 291 pd gem;
#N canvas 266 152 570 477 init 0;
#X obj 43 34 loadbang;
#X msg 43 344 \; pd dsp 1 \;;
#X obj 244 115 s lb1;
#X obj 226 141 s lb2;
#X obj 208 170 s lb3;
#X obj 43 55 t b b b b b b;
#X obj 188 200 s lb4;
#X obj 168 230 s lb5;
#X obj 356 79 r lb5;
#X obj 43 391 declare -path ./lib -path ../lib;
#X obj 43 411 declare -lib timbreID/timbreIDLib;
#X obj 43 431 declare -lib Gem;
#X msg 356 108 \; num-fade-frames-set 15 \; x-mapping-set 30 \; y-mapping-set
31 \; z-mapping-set 32 \; R-mapping-set 32 \; G-mapping-set 33 \; B-mapping-set
34 \; size-mapping-set 29 \; rotate-z-set 0 \; rotate-y-set 0 \; rotate-x-set
0 \; gem-x-range 14.2222 \; gem-y-range 8 \; ortho-switch-set 1 \;
render-points-set 1 \; render-light-set 1 \; reset-axes bang \; point-size-set
0.05 \; master-volume-set 90 \;;
#X connect 0 0 5 0;
#X connect 5 0 1 0;
#X connect 5 1 7 0;
#X connect 5 2 6 0;
#X connect 5 3 4 0;
#X connect 5 4 3 0;
#X connect 5 5 2 0;
#X connect 8 0 12 0;
#X restore 430 231 pd init;
#N canvas 222 370 958 538 audio 0;
#X msg 253 136 pd~ stop;
#X msg 203 76 pd~ start -nogui ./lib/audio-patch.pd;
#X msg 223 106 pd~ start ./lib/audio-patch.pd;
#N canvas 559 352 711 526 subprocess-sends 0;
#X obj 80 452 outlet;
#X obj 80 120 subprocess-send do-analysis;
#X obj 80 60 subprocess-send window-size;
#X obj 80 80 subprocess-send db-thresh;
#X obj 80 100 subprocess-send filenames-list;
#X obj 80 140 subprocess-send trig-sound;
#X obj 80 380 subprocess-send full-sample-mode;
#X obj 80 180 subprocess-send seq-0-trig-sound;
#X obj 80 200 subprocess-send seq-1-trig-sound;
#X obj 80 220 subprocess-send seq-2-trig-sound;
#X obj 80 240 subprocess-send seq-3-trig-sound;
#X obj 80 280 subprocess-send seq-0-gain;
#X obj 80 300 subprocess-send seq-1-gain;
#X obj 80 320 subprocess-send seq-2-gain;
#X obj 80 340 subprocess-send seq-3-gain;
#X obj 406 191 subprocess-send dry-gain;
#X obj 406 211 subprocess-send wet-gain;
#X obj 406 231 subprocess-send reverb-liveness;
#X obj 406 251 subprocess-send reverb-crossover;
#X obj 406 271 subprocess-send reverb-damping;
#X obj 80 360 subprocess-send seq-4-gain;
#X obj 80 260 subprocess-send seq-4-trig-sound;
#X obj 80 160 subprocess-send mouse-gain;
#X obj 80 400 subprocess-send max-sample-length;
#X obj 406 301 subprocess-send grain-transpo-min;
#X obj 406 321 subprocess-send grain-transpo-max;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 0 0;
#X connect 11 0 0 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X connect 14 0 0 0;
#X connect 15 0 0 0;
#X connect 16 0 0 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X connect 19 0 0 0;
#X connect 20 0 0 0;
#X connect 21 0 0 0;
#X connect 22 0 0 0;
#X connect 23 0 0 0;
#X connect 24 0 0 0;
#X connect 25 0 0 0;
#X restore 311 231 pd subprocess-sends;
#X obj 368 410 dac~;
#X obj 368 380 *~;
#X obj 430 282 r master-volume;
#X obj 430 304 moses 41;
#X obj 430 326 t b;
#X msg 430 348 0;
#X obj 430 370 dbtorms;
#X obj 430 392 pack f 40;
#X obj 430 414 line~;
#X obj 203 336 t a a;
#X obj 203 457 s;
#X obj 230 361 list split 1;
#X obj 230 386 symbol;
#X obj 203 412 list split 1;
#X obj 203 437 list trim;
#X obj 203 305 pd~ -noutsig 1 -fifo 1, f 28;
#X text 478 35 As of examples package 0.7.1 \, the timbre space browser
example uses [pd~] to manage audio on a separate thread from the GEM
process. This is so that video processing does not cause audio dropouts.
By default \, the audio thread is started with the -nogui option to
keep things uncluttered. If you want to see what's going on in the
audio patch \, disconnect [r lb1] from the message with -nogui and
connect it to the other "start" message. Then save it and reload this
patch. You'll see the 2nd instance of Pd pop up \, and the audio patch
along with it. Functionality is the same in either case.;
#X obj 623 257 r audio-process-loadbang;
#X obj 203 21 r lb1;
#X obj 454 207 catch~ metronome-audio;
#X msg 623 280 \; db-thresh 0 \; full-sample-mode-set 0 \; max-sample-length
7e+07 \; grain-transpo-min-set 0 \; grain-transpo-max-set 0 \; dry-gain-set
95 \; wet-gain-set 90 \; reverb-liveness-set 80 \; reverb-crossover-set
3000 \; reverb-damping-set 20 \;;
#X obj 623 430 r audio-post;
#X obj 623 451 print audio-thread;
#X connect 0 0 19 0;
#X connect 1 0 19 0;
#X connect 2 0 19 0;
#X connect 3 0 19 0;
#X connect 5 0 4 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 10 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 5 1;
#X connect 13 0 17 0;
#X connect 13 1 15 0;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X connect 17 1 18 0;
#X connect 18 0 14 0;
#X connect 19 0 13 0;
#X connect 19 1 5 0;
#X connect 21 0 24 0;
#X connect 22 0 1 0;
#X connect 23 0 5 0;
#X connect 25 0 26 0;
#X restore 430 271 pd audio;
#N canvas 564 89 839 540 database 0;
#X obj 662 265 r num-frames-total;
#N canvas 849 457 401 408 transfer-to-tables 0;
#X obj 125 94 t f b;
#X obj 125 121 until;
#X obj 154 162 + 1;
#X msg 140 141 0;
#X obj 125 73 f;
#X obj 125 162 f;
#X obj 140 53 r num-frames-total;
#X obj 25 276 s render-plot;
#X obj 25 34 t b b;
#X obj 25 11 r do-transfer-to-tables;
#X obj 253 236 s get-feature;
#N canvas 810 39 612 549 RGB-mapping 0;
#X obj 38 34 inlet;
#X obj 358 247 tabwrite plotDataB;
#X obj 358 221 list store;
#X msg 358 199 get \$1 1;
#X obj 433 221 r norm-feature;
#X obj 358 153 f;
#X obj 399 132 r B-mapping;
#X obj 399 153 t b f;
#X obj 399 174 s do-transfer-to-tables;
#X obj 38 74 t b b b f, f 29;
#X obj 198 341 list store;
#X msg 198 319 get \$1 1;
#X obj 273 341 r norm-feature;
#X obj 198 273 f;
#X obj 239 273 t b f;
#X obj 239 294 s do-transfer-to-tables;
#X obj 38 461 list store;
#X msg 38 439 get \$1 1;
#X obj 113 461 r norm-feature;
#X obj 38 393 f;
#X obj 79 393 t b f;
#X obj 79 414 s do-transfer-to-tables;
#X obj 239 252 r G-mapping;
#X obj 198 367 tabwrite plotDataG;
#X obj 38 487 tabwrite plotDataR;
#X obj 79 372 r R-mapping;
#X connect 0 0 9 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 5 1;
#X connect 9 0 19 0;
#X connect 9 1 13 0;
#X connect 9 2 5 0;
#X connect 9 3 1 1;
#X connect 9 3 23 1;
#X connect 9 3 24 1;
#X connect 10 0 23 0;
#X connect 11 0 10 0;
#X connect 12 0 10 1;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 14 1 13 1;
#X connect 16 0 24 0;
#X connect 17 0 16 0;
#X connect 18 0 16 1;
#X connect 19 0 17 0;
#X connect 20 0 21 0;
#X connect 20 1 19 1;
#X connect 22 0 14 0;
#X connect 25 0 20 0;
#X restore 177 299 pd RGB-mapping;
#N canvas 846 402 581 640 XYZ-mapping 0;
#X obj 45 28 inlet;
#N canvas 0 23 313 342 scale-z 0;
#X obj 36 30 inlet;
#X obj 68 175 / 2;
#X obj 54 87 t f f;
#X obj 36 138 *;
#X obj 36 203 -;
#X obj 36 252 -;
#X obj 54 66 r z-range;
#X obj 54 228 r z-offset;
#X obj 36 274 tabwrite plotDataZ;
#X obj 166 30 inlet;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 2 0 3 1;
#X connect 2 1 1 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X connect 9 0 8 1;
#X restore 345 325 pd scale-z;
#N canvas 219 60 313 342 scale-x 0;
#X obj 36 30 inlet;
#X obj 68 175 / 2;
#X obj 54 87 t f f;
#X obj 36 138 *;
#X obj 36 203 -;
#X obj 36 252 -;
#X obj 54 228 r x-offset;
#X obj 54 66 r x-range;
#X obj 36 274 tabwrite plotDataX;
#X obj 176 30 inlet;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 2 0 3 1;
#X connect 2 1 1 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 2 0;
#X connect 9 0 8 1;
#X restore 45 566 pd scale-x;
#N canvas 0 23 313 342 scale-y 0;
#X obj 36 30 inlet;
#X obj 54 66 r y-range;
#X obj 54 228 r y-offset;
#X obj 68 175 / 2;
#X obj 54 87 t f f;
#X obj 36 138 *;
#X obj 36 203 -;
#X obj 36 252 -;
#X obj 196 30 inlet;
#X obj 36 274 tabwrite plotDataY;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 7 1;
#X connect 3 0 6 1;
#X connect 4 0 5 1;
#X connect 4 1 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 9 1;
#X restore 195 445 pd scale-y;
#X obj 375 235 t b f;
#X obj 244 347 t b f;
#X obj 95 467 t b f;
#X obj 375 213 r z-mapping;
#X obj 244 325 r y-mapping;
#X obj 95 445 r x-mapping;
#X obj 375 256 s do-transfer-to-tables;
#X obj 244 368 s do-transfer-to-tables;
#X obj 95 488 s do-transfer-to-tables;
#X obj 45 49 t b b b f, f 23;
#X obj 345 303 list store;
#X msg 345 281 get \$1 1;
#X obj 420 303 r norm-feature;
#X obj 345 235 f;
#X obj 195 415 list store;
#X msg 195 393 get \$1 1;
#X obj 270 415 r norm-feature;
#X obj 195 347 f;
#X obj 45 535 list store;
#X msg 45 513 get \$1 1;
#X obj 120 535 r norm-feature;
#X obj 45 467 f;
#X connect 0 0 13 0;
#X connect 4 0 10 0;
#X connect 4 1 17 1;
#X connect 5 0 11 0;
#X connect 5 1 21 1;
#X connect 6 0 12 0;
#X connect 6 1 25 1;
#X connect 7 0 4 0;
#X connect 8 0 5 0;
#X connect 9 0 6 0;
#X connect 13 0 25 0;
#X connect 13 1 21 0;
#X connect 13 2 17 0;
#X connect 13 3 1 1;
#X connect 13 3 3 1;
#X connect 13 3 2 1;
#X connect 14 0 1 0;
#X connect 15 0 14 0;
#X connect 16 0 14 1;
#X connect 17 0 15 0;
#X connect 18 0 3 0;
#X connect 19 0 18 0;
#X connect 20 0 18 1;
#X connect 21 0 19 0;
#X connect 22 0 2 0;
#X connect 23 0 22 0;
#X connect 24 0 22 1;
#X connect 25 0 23 0;
#X restore 125 329 pd XYZ-mapping;
#X obj 125 188 t f f f f;
#N canvas 1305 241 294 396 size-mapping 0;
#X obj 38 34 inlet;
#X obj 38 211 list store;
#X msg 38 189 get \$1 1;
#X obj 113 211 r norm-feature;
#X obj 38 143 f;
#X obj 99 143 t b f;
#X obj 99 164 s do-transfer-to-tables;
#X obj 38 327 tabwrite plotDataSize;
#X obj 38 74 t b f, f 6;
#X obj 38 262 *;
#X obj 108 241 r point-size;
#X obj 108 262 t b f;
#X obj 108 283 s do-transfer-to-tables;
#X obj 38 232 pow 0.5;
#X obj 99 82 r size-mapping;
#X obj 99 103 select -1;
#X obj 38 283 max 0.02;
#X connect 0 0 8 0;
#X connect 1 0 13 0;
#X connect 2 0 1 0;
#X connect 3 0 1 1;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 5 1 4 1;
#X connect 8 0 4 0;
#X connect 8 1 7 1;
#X connect 9 0 16 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 1 9 1;
#X connect 13 0 9 0;
#X connect 14 0 15 0;
#X connect 15 1 5 0;
#X connect 16 0 7 0;
#X restore 217 269 pd size-mapping;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 1 0 5 0;
#X connect 2 0 5 1;
#X connect 3 0 5 1;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X connect 5 0 13 0;
#X connect 6 0 4 1;
#X connect 8 0 7 0;
#X connect 8 1 4 0;
#X connect 9 0 8 0;
#X connect 13 0 12 0;
#X connect 13 1 11 0;
#X connect 13 2 14 0;
#X connect 13 3 10 0;
#X restore 527 232 pd transfer-to-tables;
#X obj 527 262 table plotDataX;
#X obj 527 282 table plotDataY;
#X obj 527 302 table plotDataZ;
#X obj 527 322 table plotDataR;
#X obj 527 342 table plotDataG;
#X obj 527 362 table plotDataB;
#X obj 43 405 s do-transfer-to-tables;
#X obj 43 31 r analysis-finished;
#X obj 203 382 timbreID;
#X obj 245 252 timbreID;
#X obj 260 431 route num_instances feature_list;
#X floatatom 260 452 5 0 0 0 - - -;
#X msg 276 352 num_instances;
#X msg 266 329 feature_list \$1;
#X msg 110 291 normalize 1;
#X obj 266 309 r get-feature;
#X obj 372 473 s norm-feature;
#X obj 328 250 route feature_list;
#X obj 328 271 s raw-feature;
#X msg 388 159 feature_list \$1;
#X obj 388 139 r get-raw-feature;
#X obj 70 99 openpanel;
#X msg 203 161 read \$1;
#X obj 43 132 t b b a;
#X msg 43 55 symbol ./database/timbre-space-db.timid;
#X obj 290 114 savepanel;
#X obj 290 94 r save-timid;
#X obj 70 79 r load-timid;
#X msg 290 135 write \$1;
#X msg 662 286 \; plotDataX resize \$1 \; plotDataY resize \$1 \; plotDataZ
resize \$1 \; plotDataR resize \$1 \; plotDataG resize \$1 \; plotDataB
resize \$1 \; plotDataSize resize \$1 \;;
#X obj 527 382 table plotDataSize;
#X connect 0 0 31 0;
#X connect 9 0 26 0;
#X connect 10 3 12 0;
#X connect 11 3 19 0;
#X connect 12 0 13 0;
#X connect 12 1 18 0;
#X connect 14 0 10 0;
#X connect 15 0 10 0;
#X connect 16 0 10 0;
#X connect 17 0 15 0;
#X connect 19 0 20 0;
#X connect 21 0 11 0;
#X connect 22 0 21 0;
#X connect 23 0 25 0;
#X connect 24 0 11 0;
#X connect 24 0 10 0;
#X connect 25 0 8 0;
#X connect 25 1 16 0;
#X connect 25 2 24 0;
#X connect 26 0 25 0;
#X connect 27 0 30 0;
#X connect 28 0 27 0;
#X connect 29 0 23 0;
#X connect 30 0 11 0;
#X restore 430 251 pd database;
#N canvas 320 174 814 599 grain-info-display 0;
#X floatatom 14 85 10 0 0 3 start grain-info-seconds-start-set -;
#X floatatom 114 85 10 0 0 3 end grain-info-seconds-end-set -;
#X text 11 66 Location (seconds);
#X floatatom 204 85 10 0 0 2 sample-number grain-info-sample-number-set
-;
#X floatatom 304 85 10 0 0 2 frame-number grain-info-frame-number-set
-;
#N canvas 403 101 522 457 display-bfccs 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array bfcc-display 49 float 0;
#X coords 0 1 48 -1 200 140 1 0 0;
#X restore 219 226 graph;
#X obj 47 164 list prepend 0;
#X obj 47 186 s bfcc-display;
#X obj 47 20 r trig-sound;
#X obj 47 62 t b;
#X obj 47 127 list store;
#X obj 127 127 r raw-feature;
#X msg 47 91 get 30 49;
#X text 123 90 get 49 elements starting at attribute 30;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 1 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X coords 0 -1 1 1 240 185 2 200 200;
#X restore 14 385 pd display-bfccs;
#N canvas 278 146 961 621 filename-display 0;
#X msg 54 315 \; grain-info-file-name-canvas-label label \$1 \;;
#X obj 442 143 list fromsymbol;
#X obj 442 99 r grain-info-file-name-set;
#X obj 442 121 symbol;
#X obj 54 293 list tosymbol;
#X obj 583 220 list length;
#X msg 615 424 symbol /;
#X obj 615 446 list fromsymbol;
#X obj 565 288 list prepend 0;
#X obj 565 310 s filename-ascii;
#X obj 649 181 table filename-ascii;
#X msg 583 242 \; filename-ascii resize \$1 \;;
#X obj 54 273 list split;
#X obj 428 221 f;
#X obj 428 263 until;
#X obj 428 315 f;
#X obj 458 317 - 1;
#X obj 447 289 - 1;
#X obj 428 359 tabread filename-ascii;
#X obj 428 381 ==;
#X obj 428 403 select 1;
#X obj 428 455 f;
#X obj 428 425 t b b;
#X obj 428 477 + 1;
#X obj 442 168 t l b l l b;
#X obj 428 337 t f f;
#X text 505 490 Should probably do this just once in the audio patch
to extract all filenames at file loading time;
#X connect 1 0 24 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X connect 5 0 11 0;
#X connect 5 0 13 1;
#X connect 5 0 17 0;
#X connect 6 0 7 0;
#X connect 7 0 19 1;
#X connect 8 0 9 0;
#X connect 12 1 4 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 15 0 25 0;
#X connect 16 0 15 1;
#X connect 17 0 15 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 22 0;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 22 1 14 1;
#X connect 23 0 12 1;
#X connect 24 0 12 0;
#X connect 24 1 13 0;
#X connect 24 2 8 0;
#X connect 24 3 5 0;
#X connect 24 4 6 0;
#X connect 25 0 18 0;
#X connect 25 1 21 1;
#X coords 0 621 1 620 300 60 0;
#X restore 310 553 pd filename-display;
#X obj 14 21 cnv 15 100 15 empty grain-info-file-name-canvas-label
perc-67.wav 20 12 0 14 -262144 -66577 0;
#X obj 14 135 grain-info B-brightness 3;
#X obj 124 135 grain-info B-centroid 4;
#X obj 234 135 grain-info B-flatness 5;
#X obj 344 135 grain-info B-flux 6;
#X obj 454 135 grain-info B-irreg 7;
#X obj 564 135 grain-info B-kurtosis 8;
#X obj 674 135 grain-info B-rolloff 9;
#X obj 14 195 grain-info B-skewness 10;
#X obj 124 195 grain-info B-slope 11;
#X obj 234 195 grain-info B-spread 12;
#X obj 344 195 grain-info brightness 13;
#X obj 454 195 grain-info centroid 14;
#X obj 564 195 grain-info flatness 15;
#X obj 674 195 grain-info flux 16;
#X obj 14 255 grain-info harmonicity 17;
#X obj 124 255 grain-info inharmonicity 18;
#X obj 234 255 grain-info irregularity 19;
#X obj 344 255 grain-info kurtosis 20;
#X obj 454 255 grain-info rolloff 21;
#X obj 564 255 grain-info skewness 22;
#X obj 674 255 grain-info slope 23;
#X obj 14 315 grain-info spread 24;
#X obj 124 315 grain-info waveslope 25;
#X obj 234 315 grain-info zerocrossing 26;
#X obj 454 315 grain-info amplitude 29;
#X obj 344 315 grain-info pitch 28;
#N canvas 943 120 630 492 most-present-pitch-class 0;
#X obj 59 92 list store;
#X obj 140 92 r raw-feature;
#X obj 59 18 r trig-sound;
#X obj 59 39 t b;
#X msg 59 71 get 27 1;
#X obj 59 113 * 12;
#X obj 59 184 select 0 1 2 3 4 5 6 7 8 9 10 11;
#X msg 59 205 symbol C;
#X msg 69 225 symbol Csharp;
#X msg 79 245 symbol D;
#X msg 89 265 symbol Dsharp;
#X msg 99 285 symbol E;
#X msg 109 305 symbol F;
#X msg 199 205 symbol Fsharp;
#X msg 209 225 symbol G;
#X msg 219 245 symbol Gsharp;
#X msg 229 265 symbol A;
#X msg 239 285 symbol Asharp;
#X msg 249 305 symbol B;
#X symbolatom 110 425 10 0 0 0 - - -;
#X floatatom 124 163 5 0 0 0 - - -;
#X floatatom 128 124 5 0 0 0 - - -;
#X connect 0 0 5 0;
#X connect 0 0 21 0;
#X connect 1 0 0 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 5 0 20 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 6 2 9 0;
#X connect 6 3 10 0;
#X connect 6 4 11 0;
#X connect 6 5 12 0;
#X connect 6 6 13 0;
#X connect 6 7 14 0;
#X connect 6 8 15 0;
#X connect 6 9 16 0;
#X connect 6 10 17 0;
#X connect 6 11 18 0;
#X connect 7 0 19 0;
#X connect 8 0 19 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 12 0 19 0;
#X connect 13 0 19 0;
#X connect 14 0 19 0;
#X connect 15 0 19 0;
#X connect 16 0 19 0;
#X connect 17 0 19 0;
#X connect 18 0 19 0;
#X coords 0 -1 1 1 100 50 1 100 400;
#X restore 564 315 pd most-present-pitch-class;
#X restore 430 321 pd grain-info-display;
#X obj 473 48 bng 15 250 50 0 empty empty grain-info 17 7 0 10 -262144
-1 -1;
#X msg 473 171 \; pd-grain-info-display vis 1 \;;
#X obj 473 28 bng 15 250 50 0 empty empty analysis 17 7 0 10 -261234
-1 -1;
#X msg 483 141 \; pd-analysis vis 1 \;;
#N canvas 341 66 773 675 analysis 0;
#X obj 31 118 s window-size;
#X msg 111 77 4096;
#X msg 31 77 1024;
#X msg 71 77 2048;
#X msg 155 77 8192;
#X obj 31 614 cnv 15 1 1 empty empty 5) 0 0 0 28 -233017 -66577 0;
#X obj 31 44 cnv 15 1 1 empty empty 1) 0 0 0 28 -233017 -66577 0;
#X obj 31 264 cnv 15 1 1 empty empty 3) 0 0 0 28 -233017 -66577 0;
#X obj 31 484 cnv 15 1 1 empty empty 4) 0 0 0 28 -233017 -66577 0;
#X text 72 29 Set a grain size in samples;
#X obj 511 209 s db-thresh;
#X msg 591 167 70;
#X msg 511 167 0;
#X msg 551 167 40;
#X obj 31 184 cnv 15 1 1 empty empty 2) 0 0 0 28 -233017 -66577 0;
#X obj 51 401 s filenames-list;
#X obj 103 538 s do-analysis;
#X obj 214 507 r analysis-finished;
#X obj 214 533 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 554 389 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 521 338 Wait until file loading is complete;
#X obj 554 363 r file-loading-finished;
#X obj 344 97 tgl 15 0 full-sample-mode full-sample-mode-set full-sample-mode
17 7 0 10 -262144 -1 -1 0 1;
#X text 72 46 (does not need to be a power of 2);
#X text 342 29 OR: turn on full sample mode to analyze and play back
entire samples. This is only appropriate when loading more than 1 audio
file and may cause the analysis step to take a long time (depending
on the length of your files).;
#X text 71 468 Analyze. This may choke Pd for a while \, so wait until
a bang shows up at "analysis-finished", f 49;
#X obj 103 518 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 80 166 Choose a threshold in dB. Grains below this threshold
won't be included in the plot \, which is good when you don't want
to bother plotting gaps of silence. NOTE: this threshold does not apply
when using full sample mode.;
#X obj 574 405 print -n;
#X msg 574 385 file loading finished;
#X obj 234 549 print -n;
#X msg 234 529 analysis finished;
#X text 70 595 Go back to the parent patch \, turn on GEM rendering
\, and pick different features for the axes as desired.;
#X obj 89 265 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 314 187 685 440 choose-single-file 0;
#X obj 48 20 inlet;
#X obj 48 82 openpanel;
#X msg 193 194 clear;
#X obj 193 260 text define single-soundfile-filename;
#X obj 82 296 text set single-soundfile-filename;
#X msg 143 262 0;
#X msg 223 224 write -c ./filename-lists/single-soundfile.txt;
#X obj 48 400 s filenames-list;
#X msg 48 366 ../filename-lists/single-soundfile.txt;
#X obj 48 154 t b b a b;
#X obj 48 42 t b b;
#X text 158 21 To be consistent with the way that audio files are loaded
in the audio patch (regardless of whether it's a single sample or multiple
samples) we must create a single-line text file that specifies the
path of the single soundfile chosen via [openpanel] here.;
#X obj 48 124 makefilename ../../audio/%s;
#X text 258 104 To work with this patch \, audio files **must be within**
the timbreID-examples/audio directory \, and the file names **may not
contain spaces**.;
#X obj 48 103 getfilename;
#X connect 0 0 10 0;
#X connect 1 0 14 0;
#X connect 2 0 3 0;
#X connect 5 0 4 1;
#X connect 6 0 3 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 6 0;
#X connect 9 2 4 0;
#X connect 9 3 5 0;
#X connect 10 0 1 0;
#X connect 10 1 2 0;
#X connect 12 0 9 0;
#X connect 14 0 12 0;
#X restore 89 285 pd choose-single-file;
#X msg 51 337 filenames-perc.txt;
#X msg 71 367 filenames-oboe.txt;
#X msg 255 77 15000;
#X msg 215 77 800;
#X obj 643 508 bng 15 250 50 0 load-timid empty load 17 7 0 10 -204786
-1 -1;
#X obj 643 548 bng 15 250 50 0 save-timid empty save 17 7 0 10 -261234
-1 -1;
#X text 401 498 OR: load previous analysis data stored as a .timid
file. This is good for large sample sets that took a long time to analyze
the first time around. You can save a .timid file with the save button.
, f 38;
#X msg 631 167 80;
#X text 228 328 OR: provide the name of a text file in 09-timbre-space/filename-lists
containing names of all audio files you want to analyze. The audio
files listed in the text file must have paths relative to the 09-timbre-space/lib/
directory \, and **may not contain spaces**., f 36;
#X text 127 253 << Choose a single audio file from the "timbreID-examples/audio"
directory. File names **may not contain spaces**, f 78;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 11 0 10 0;
#X connect 12 0 10 0;
#X connect 13 0 10 0;
#X connect 17 0 18 0;
#X connect 17 0 31 0;
#X connect 21 0 19 0;
#X connect 21 0 29 0;
#X connect 26 0 16 0;
#X connect 29 0 28 0;
#X connect 31 0 30 0;
#X connect 33 0 34 0;
#X connect 35 0 15 0;
#X connect 36 0 15 0;
#X connect 37 0 0 0;
#X connect 38 0 0 0;
#X connect 42 0 10 0;
#X restore 430 341 pd analysis;
#X symbolatom 523 88 20 0 0 0 - size-feature-name -;
#X floatatom 473 88 5 -1 77 3 size size-mapping-set size-mapping;
#X obj 473 68 bng 15 250 50 0 empty empty kbd-nav 17 7 0 10 -262144
-1 -1;
#X msg 503 201 \; pd-keyboard-navigation vis 1 \;;
#X text 51 224 0: sample number;
#X text 51 184 Feature attribute index:;
#X text 51 284 3: bark brightness;
#X text 51 304 4: bark centroid;
#X text 51 324 5: bark flatness;
#X text 51 344 6: bark flux;
#X text 51 364 7: bark irregularity;
#X text 51 384 8: bark kurtosis;
#X text 51 404 9: bark rolloff;
#X text 51 424 10: bark skewness;
#X text 51 444 11: bark spectrum slope;
#X text 51 464 12: bark spread;
#X text 51 484 13: brightness;
#X text 51 504 14: centroid;
#X text 261 224 15: flatness;
#X text 261 244 16: flux;
#X text 261 264 17: harmonicity;
#X text 261 284 18: inharmonicity;
#X text 261 304 19: irregularity;
#X text 261 324 20: kurtosis;
#X text 261 344 21: rolloff;
#X text 261 364 22: skewness;
#X text 261 384 23: slope;
#X text 261 404 24: spread;
#X text 261 424 25: wave slope;
#X text 261 444 26: zero crossing;
#X text 51 244 1: frame number;
#X text 51 264 2: duration in samples;
#X text 261 484 28: pitch;
#X text 261 504 29: amplitude;
#X text 261 524 30-78: BFCCs 1-49 (we dropped BFCC 0);
#X text 261 464 27: most present pitch class (normalized 0-1);
#X connect 21 0 22 0;
#X connect 23 0 24 0;
#X connect 28 0 29 0;
#X coords 0 -1 1 1 625 100 1 30 20;
#X restore 38 36 pd analysis-panel;
#N canvas 150 127 1269 541 constellation-sequencing 0;
#X obj 49 208 list store;
#X obj 123 109 select 0 1;
#X obj 49 53 spigot;
#X msg 106 53 0;
#X msg 146 53 1;
#X obj 123 137 t b b;
#X msg 38 124 append \$1;
#X obj 49 32 r add-to-sequence;
#X obj 49 351 list append;
#X obj 49 483 sequenceRecorder 0;
#X obj 79 463 sequenceRecorder 1;
#X obj 99 443 sequenceRecorder 2;
#X obj 129 423 sequenceRecorder 3;
#X obj 49 229 t l l;
#X obj 49 250 spigot;
#X obj 105 232 list length;
#X obj 105 253 > 0;
#X obj 123 85 r mouse-button-left;
#X floatatom 757 53 5 1 5 1 grain-connect-width grain-connect-width-set
grain-connect-width;
#X obj 736 350 tgl 15 0 grain-connect-style grain-connect-style-set
grain-connect-style 17 7 0 10 -262144 -1 -1 0 1;
#X floatatom 757 73 5 0 1 1 grain-connect-alpha grain-connect-alpha-set
grain-connect-alpha;
#X obj 757 133 tgl 15 0 master-clock master-clock-set master 17 7 0
10 -262144 -1 -1 0 1;
#X floatatom 877 133 5 0.001 1000 1 clock-tick-ms master-clock-tick-ms-set
master-clock-tick-ms;
#X obj 507 115 metro;
#X obj 507 196 f;
#X obj 537 187 + 1;
#X obj 507 34 r master-clock;
#X obj 507 58 t f b;
#X obj 540 79 s sequence-reset;
#X obj 522 140 r sequence-reset;
#X msg 522 161 0;
#X obj 507 257 s master-timecode;
#X obj 362 344 sequenceTimer 0;
#X obj 362 364 sequenceTimer 1;
#X obj 362 384 sequenceTimer 2;
#X obj 362 404 sequenceTimer 3;
#X obj 49 313 f;
#X obj 49 74 t b f;
#X obj 757 153 tgl 15 0 tempo-lock tempo-lock-set tempo-lock 17 7 0
10 -262144 -1 -1 1 1;
#X obj 757 113 hradio 15 1 0 5 sequence-select sequence-select-set
sequence-select 0 -8 0 10 -262144 -1 -1 0;
#X obj 78 291 r sequence-select;
#X obj 362 424 sequenceTimer 4;
#X obj 49 372 route 0 1 2 3 4;
#X obj 159 403 sequenceRecorder 4;
#X obj 492 344 sequencePlayer 0;
#X obj 492 364 sequencePlayer 1;
#X obj 492 384 sequencePlayer 2;
#X obj 492 404 sequencePlayer 3;
#X obj 492 424 sequencePlayer 4;
#X obj 537 208 % 1.28e+07;
#X floatatom 736 370 5 0 100 1 res grain-connect-res-set grain-connect-res
;
#X obj 557 115 r master-clock-tick-ms;
#X obj 49 269 t b l;
#N canvas 666 61 857 423 initialization 0;
#X obj 52 23 r lb1;
#X obj 324 124 r file-loading-finished;
#X msg 324 145 5;
#X obj 324 166 t f b;
#X obj 324 187 until;
#X obj 324 208 f;
#X obj 354 209 + 1;
#X msg 368 185 0;
#X msg 324 229 \; seq-\$1-clear bang \;;
#X msg 52 214 5;
#X obj 52 235 t f b;
#X obj 52 256 until;
#X obj 52 277 f;
#X obj 82 278 + 1;
#X msg 96 254 0;
#X obj 52 193 r lb1;
#X msg 52 44 \; grain-connect-style-set 0 \; grain-connect-width-set
1 \; grain-connect-alpha-set 0.6 \; grain-connect-res-set 30 \; master-clock-tick-ms-set
1 \; tempo-lock-set 1 \; sequence-select-set 0 \;;
#X obj 561 136 r audio-process-loadbang;
#X msg 561 167 \; sequence-global-gain-set 90 \;;
#X msg 52 300 \; sequence-\$1-time-set 100 \; sequence-\$1-switch-set
1 \; sequence-\$1-mode-set 0 \; sequence-\$1-random-walk-mag-set 3
\;;
#X connect 0 0 16 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 7 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 1 14 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 0 19 0;
#X connect 13 0 12 1;
#X connect 14 0 12 1;
#X connect 15 0 9 0;
#X connect 17 0 18 0;
#X restore 309 82 pd initialization;
#N canvas 0 23 346 281 editing-interface 0;
#X obj 57 151 f;
#X obj 79 126 r sequence-select;
#X msg 57 172 \; sequence-\$1-delete bang \;;
#X obj 57 76 change;
#X obj 57 52 r mouse-button-right;
#X obj 57 97 select 0;
#X connect 0 0 2 0;
#X connect 1 0 0 1;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X restore 309 102 pd editing-interface;
#N canvas 20 74 573 572 sequence-controls 0;
#X obj 9 10 sequenceControlPanel 0;
#X obj 280 10 sequenceControlPanel 1;
#X obj 10 190 sequenceControlPanel 2;
#X obj 280 190 sequenceControlPanel 3;
#X obj 10 370 sequenceControlPanel 4;
#X restore 1046 98 pd sequence-controls;
#X obj 877 113 bng 15 250 50 0 empty empty control-panel 17 7 0 10
-262144 -1 -1;
#X msg 1046 58 \; pd-sequence-controls vis 1 \;;
#N canvas 1282 306 477 401 scrap 0;
#X obj 220 109 timer;
#X obj 289 119 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 220 28 5 0 0 0 - - -;
#X obj 220 48 change;
#X obj 220 69 t b f;
#X obj 220 151 change;
#X obj 220 172 select 1;
#X obj 220 193 f;
#X floatatom 290 77 5 0 0 0 - - -;
#X obj 220 214 s sequence-0-time-set;
#X obj 289 139 metro 50;
#X obj 220 130 > 200;
#X connect 0 0 11 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 4 1 7 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 11 1;
#X connect 10 0 0 1;
#X connect 11 0 5 0;
#X restore 357 148 pd scrap;
#X text 735 284 These are best left hidden since draw style and resolution
automatically change based on which sequence is actively selected.
Will leave in place anyway., f 46;
#X obj 760 173 hsl 128 15 40 112 0 0 sequence-global-gain sequence-global-gain-set
global-gain 8 8 0 10 -262144 -1 -1 8819 1;
#X obj 166 137 t b b b;
#N canvas 651 75 854 421 retrieve-existing 0;
#X obj 89 32 inlet;
#X obj 234 355 outlet;
#X obj 89 53 t b b b;
#X msg 203 146 set sequence-table-\$1;
#X obj 186 217 tabletool sequence-table-0;
#X obj 203 124 f;
#X obj 211 59 r sequence-select;
#X msg 125 134 max;
#X obj 186 238 > -1;
#X obj 57 283 tabletool sequence-table-0;
#X msg 57 202 dump;
#X obj 57 223 spigot;
#X text 388 65 Before this subpatch \, a bang is sent to clear [list
store] in the parent patch. If the sequence table is empty at startup
or after clearing/deleting points \, it will only have negative one
in it. Therefore \, if the max value is greater than that \, we can
dump the current contents of the sequence table into the [list store]
and continue appending.;
#X obj 211 80 select -1;
#X connect 0 0 2 0;
#X connect 2 0 10 0;
#X connect 2 1 7 0;
#X connect 2 2 5 0;
#X connect 3 0 4 0;
#X connect 3 0 9 0;
#X connect 4 0 8 0;
#X connect 5 0 3 0;
#X connect 6 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 11 1;
#X connect 9 1 1 0;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 13 1 5 1;
#X restore 184 177 pd retrieve-existing;
#X floatatom 937 53 5 0 0 1 % audio-cpu -;
#X text 934 35 audio-CPU;
#X connect 0 0 13 0;
#X connect 1 0 5 0;
#X connect 1 1 61 0;
#X connect 2 0 37 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 3 0;
#X connect 5 0 0 1;
#X connect 5 1 0 0;
#X connect 6 0 0 0;
#X connect 7 0 2 0;
#X connect 8 0 42 0;
#X connect 13 0 14 0;
#X connect 13 1 15 0;
#X connect 14 0 52 0;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X connect 17 0 1 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 24 0 31 0;
#X connect 25 0 49 0;
#X connect 26 0 27 0;
#X connect 27 0 23 0;
#X connect 27 1 28 0;
#X connect 29 0 30 0;
#X connect 30 0 24 1;
#X connect 36 0 8 0;
#X connect 37 0 0 0;
#X connect 37 1 6 0;
#X connect 40 0 36 1;
#X connect 42 0 9 0;
#X connect 42 1 10 0;
#X connect 42 2 11 0;
#X connect 42 3 12 0;
#X connect 42 4 43 0;
#X connect 49 0 24 1;
#X connect 51 0 23 1;
#X connect 52 0 36 0;
#X connect 52 1 8 1;
#X connect 56 0 57 0;
#X connect 61 0 4 0;
#X connect 61 1 62 0;
#X connect 61 2 0 1;
#X connect 62 0 0 1;
#X coords 0 -1 1 1 265 180 1 750 20;
#X restore 398 147 pd constellation-sequencing;
